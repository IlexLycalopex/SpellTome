<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
<title>Monster Codex — D&D 5e Quick Reference</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap" rel="stylesheet">
<style>
:root {
  --bg-dark:#1a1a2e; --bg-panel:#16213e; --text-light:#e8e8e8;
  --text-muted:#9a9ab0; --text-dim:#6a6a80; --gold:#c9a84c;
  --gold-dim:#8a6a2c; --border:#2a2a4a; --shadow:0 4px 24px rgba(0,0,0,0.5);
  --t-aberration:#6a3a8a; --t-beast:#4a7a2a; --t-celestial:#b8902a;
  --t-construct:#5a6a7a; --t-dragon:#8a2a2a; --t-elemental:#3a6a8a;
  --t-fey:#c4306a; --t-fiend:#7a1a1a; --t-giant:#7a5a2a;
  --t-humanoid:#4a5a6a; --t-monstrosity:#5a3a6a; --t-ooze:#3a7a3a;
  --t-plant:#2a6a3a; --t-undead:#3a3a5a;
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'EB Garamond', Georgia, serif;
  background: var(--bg-dark); color: var(--text-light); min-height: 100vh;
  background-image:
    radial-gradient(ellipse at 20% 50%, rgba(80,0,0,0.15) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(0,60,80,0.15) 0%, transparent 60%);
}
#app-header {
  position: sticky; top: 0; z-index: 100;
  background: rgba(22,33,62,0.97); border-bottom: 1px solid var(--border);
  backdrop-filter: blur(12px);
}
.header-top {
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 24px 10px; border-bottom: 1px solid rgba(255,255,255,0.05);
}
.app-title {
  font-family: 'Cinzel', serif; font-size: 1.3rem; font-weight: 900;
  letter-spacing: 0.08em; color: var(--gold);
  text-shadow: 0 0 20px rgba(201,168,76,0.4); text-transform: uppercase;
}
.app-title span { color: var(--text-muted); font-weight: 400; font-size: 0.9rem; margin-left: 8px; letter-spacing: 0.2em; }
.nav-links { display: flex; gap: 8px; align-items: center; }
.nav-link {
  font-family: 'Cinzel', serif; font-size: 0.7rem; font-weight: 600;
  letter-spacing: 0.08em; text-transform: uppercase; text-decoration: none;
  border: 1px solid var(--border); border-radius: 4px; padding: 5px 12px;
  color: var(--text-muted); transition: all 0.15s;
}
.nav-link:hover { color: var(--gold); border-color: rgba(201,168,76,0.4); }
.filter-bar {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 24px 12px; flex-wrap: wrap;
}
.filter-label {
  font-family: 'Cinzel', serif; font-size: 0.68rem;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--text-dim); white-space: nowrap;
}
select, input[type="text"] {
  font-family: 'EB Garamond', serif; font-size: 0.95rem;
  background: #0d1a30; color: #e8e8e8; border: 1px solid #3a3a5a;
  border-radius: 4px; padding: 5px 10px; outline: none;
  transition: border-color 0.15s, background 0.15s;
}
select {
  padding-right: 28px; appearance: none; -webkit-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%23c9a84c'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 8px center;
  background-color: #0d1a30; cursor: pointer;
}
select option { background: #0d1a30; color: #e8e8e8; }
select:focus, input[type="text"]:focus {
  border-color: var(--gold-dim); background: #111f38;
  box-shadow: 0 0 0 2px rgba(201,168,76,0.15);
}
input[type="text"]::placeholder { color: #6a6a80; }
.search-input { min-width: 180px; }
.pill-filters { display: flex; gap: 4px; flex-wrap: wrap; align-items: center; }
.pill {
  font-family: 'Cinzel', serif; font-size: 0.62rem; letter-spacing: 0.06em;
  font-weight: 600; border-radius: 3px; padding: 3px 7px;
  cursor: pointer; border: 1px solid var(--border);
  background: rgba(255,255,255,0.04); color: var(--text-muted);
  transition: all 0.15s; user-select: none;
}
.pill:hover { border-color: var(--text-dim); color: var(--text-light); }
.pill.active { background: rgba(201,168,76,0.18); border-color: var(--gold-dim); color: var(--gold); }
.btn-reset {
  font-family: 'Cinzel', serif; font-size: 0.7rem; font-weight: 600;
  letter-spacing: 0.05em; text-transform: uppercase;
  border: 1px solid var(--border); border-radius: 4px; padding: 5px 10px;
  cursor: pointer; background: transparent; color: var(--text-muted);
  transition: all 0.15s; white-space: nowrap; flex-shrink: 0;
}
.btn-reset:hover { color: var(--gold); border-color: rgba(201,168,76,0.5); }
.filter-divider { width: 1px; height: 24px; background: var(--border); flex-shrink: 0; }
#results-bar {
  padding: 7px 24px; font-size: 0.85rem; color: var(--text-dim);
  border-bottom: 1px solid var(--border); font-style: italic;
  background: rgba(15,52,96,0.2);
}
#card-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 18px; padding: 24px;
}
#empty-state {
  display: flex; flex-direction: column; align-items: center;
  justify-content: center; padding: 100px 24px; text-align: center; color: var(--text-dim);
}
#empty-state .rune { width: 4rem; height: 4rem; opacity: 0.25; margin-bottom: 20px; display: block; }
#empty-state h2 { font-family: 'Cinzel', serif; font-size: 1.3rem; color: var(--text-muted); margin-bottom: 10px; letter-spacing: 0.05em; }

/* MONSTER CARD */
.mon-card {
  background: #fff; border-radius: 7px; overflow: hidden;
  cursor: pointer; position: relative;
  box-shadow: 0 3px 16px rgba(0,0,0,0.45);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  color: #222; font-family: 'EB Garamond', Georgia, serif;
  font-size: 0.83rem; line-height: 1.4;
  border: 2.5px solid transparent;
}
.mon-card:hover { transform: translateY(-4px); box-shadow: 0 10px 36px rgba(0,0,0,0.6); }
.card-header {
  padding: 9px 11px; display: flex; align-items: flex-start;
  gap: 8px; position: relative;
}
.card-name {
  font-family: 'Cinzel', serif; font-weight: 700;
  font-size: clamp(0.7rem, 2vw, 0.9rem); letter-spacing: 0.03em;
  text-transform: uppercase; color: #fff; flex: 1; line-height: 1.2;
  text-shadow: 0 1px 3px rgba(0,0,0,0.35); overflow-wrap: break-word;
}
.cr-badge {
  font-family: 'Cinzel', serif; font-weight: 700; font-size: 0.75rem;
  background: rgba(0,0,0,0.25); color: rgba(255,255,255,0.95);
  border-radius: 3px; padding: 2px 7px; flex-shrink: 0;
  white-space: nowrap;
}
.card-subtype {
  font-size: 0.72rem; color: rgba(255,255,255,0.75);
  font-style: italic; margin-top: 1px; display: block;
}
.card-stats-block {
  padding: 7px 11px 5px; background: #fff;
  display: grid; grid-template-columns: 1fr 1fr; gap: 1px 8px;
}
.stat-row {
  display: flex; align-items: baseline; gap: 4px; min-width: 0;
}
.stat-label { font-size: 0.68rem; color: #777; flex-shrink: 0; min-width: 26px; }
.stat-val { font-weight: 600; font-size: 0.8rem; color: #111; white-space: nowrap; }
.card-traits {
  padding: 4px 11px 5px; background: #f7f5f0;
  border-top: 1px solid #eee; display: flex; flex-wrap: wrap; gap: 3px;
}
.trait-tag {
  font-family: 'Cinzel', serif; font-size: 0.52rem; font-weight: 700;
  letter-spacing: 0.05em; text-transform: uppercase; border-radius: 3px;
  padding: 2px 6px; background: #eee; color: #555;
}
.trait-tag.dmg-immune { background: #fee; color: #933; }
.trait-tag.dmg-resist { background: #fff0e0; color: #a63; }
.trait-tag.cond-immune { background: #e8eeff; color: #338; }
.trait-tag.legendary { background: #fdf0c0; color: #7a5500; }
.trait-tag.spellcaster { background: #f0e8ff; color: #553; }
.card-abilities {
  padding: 5px 11px 7px; background: #fff; border-top: 1px solid #eee;
  font-size: 0.75rem; color: #333; line-height: 1.4;
}
.ability-line { margin-bottom: 3px; }
.ability-name { font-weight: 700; }

/* MODAL */
#modal-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.88); z-index: 1000;
  align-items: center; justify-content: center;
  padding: 24px; backdrop-filter: blur(4px);
}
#modal-overlay.active { display: flex; }
#modal-box {
  background: #fff; border-radius: 10px; overflow: hidden;
  max-width: 600px; width: 100%; max-height: 85vh;
  overflow-y: auto; box-shadow: 0 8px 48px rgba(0,0,0,0.7);
  color: #222; font-family: 'EB Garamond', serif;
}
.modal-header {
  display: flex; align-items: flex-start; justify-content: space-between;
  gap: 10px; padding: 14px 16px; position: sticky; top: 0;
}
.modal-title-block { flex: 1; }
.modal-title {
  font-family: 'Cinzel', serif; font-weight: 700; font-size: 1.2rem;
  letter-spacing: 0.05em; text-transform: uppercase; color: #fff;
  text-shadow: 0 1px 4px rgba(0,0,0,0.35);
}
.modal-subtitle { font-size: 0.85rem; color: rgba(255,255,255,0.75); font-style: italic; margin-top: 2px; }
.modal-close {
  font-family: 'Cinzel', serif; font-size: 0.7rem; font-weight: 600;
  background: rgba(0,0,0,0.25); border: none; color: rgba(255,255,255,0.9);
  border-radius: 4px; padding: 5px 12px; cursor: pointer; flex-shrink: 0; transition: background 0.15s;
}
.modal-close:hover { background: rgba(0,0,0,0.4); }
.modal-body { padding: 16px; }
.modal-stat-grid {
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 8px; margin-bottom: 14px;
}
.modal-stat-box {
  background: #f7f5f0; border-radius: 5px; padding: 7px 8px; text-align: center;
}
.modal-stat-box .label { font-family: 'Cinzel', serif; font-size: 0.58rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: #888; }
.modal-stat-box .val { font-family: 'Cinzel', serif; font-weight: 700; font-size: 1rem; color: #222; }
.modal-section { margin-top: 12px; }
.modal-section-label {
  font-family: 'Cinzel', serif; font-size: 0.7rem; font-weight: 700;
  letter-spacing: 0.12em; text-transform: uppercase; margin-bottom: 6px;
  padding-bottom: 3px; border-bottom: 1px solid #eee;
}
.modal-ability { margin-bottom: 5px; font-size: 0.9rem; color: #333; line-height: 1.45; }
.modal-ability-name { font-weight: 700; }
.modal-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 10px; }
.ability-scores {
  display: grid; grid-template-columns: repeat(6, 1fr);
  gap: 5px; margin-bottom: 14px;
}
.ability-score-box {
  background: #f7f5f0; border-radius: 5px; padding: 6px 4px; text-align: center;
}
.ability-score-box .ab-label { font-family: 'Cinzel', serif; font-size: 0.56rem; font-weight: 700; letter-spacing: 0.1em; color: #888; text-transform: uppercase; }
.ability-score-box .ab-score { font-family: 'Cinzel', serif; font-weight: 700; font-size: 0.9rem; color: #222; }
.ability-score-box .ab-mod { font-size: 0.72rem; color: #555; }

.btn { font-family: 'Cinzel', serif; font-size: 0.75rem; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; border: none; border-radius: 4px; padding: 7px 16px; cursor: pointer; transition: all 0.15s ease; }
.btn-print { background: linear-gradient(135deg, #c9a84c, #8a6a2c); color: #1a1a2e; font-weight: 700; box-shadow: 0 2px 12px rgba(201,168,76,0.3); }
.btn-print:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 4px 16px rgba(201,168,76,0.5); }
.btn-print:disabled { opacity: 0.4; cursor: not-allowed; }
.btn-ghost { font-family: 'Cinzel', serif; font-size: 0.7rem; font-weight: 600; letter-spacing: 0.06em; text-transform: uppercase; border: 1px solid var(--border); border-radius: 4px; padding: 5px 12px; cursor: pointer; background: transparent; color: var(--text-muted); transition: all 0.15s; white-space: nowrap; }
.btn-ghost:hover:not(:disabled) { color: var(--gold); border-color: rgba(201,168,76,0.5); }
.btn-ghost:disabled { opacity: 0.35; cursor: not-allowed; }
.selection-badge { font-family: 'Cinzel', serif; font-size: 0.65rem; font-weight: 700; letter-spacing: 0.07em; color: var(--gold); background: rgba(201,168,76,0.12); border: 1px solid rgba(201,168,76,0.3); border-radius: 4px; padding: 4px 10px; white-space: nowrap; }
.mon-card.selected { outline: 2px solid var(--gold); outline-offset: 2px; box-shadow: 0 0 0 4px rgba(201,168,76,0.18), 0 10px 36px rgba(0,0,0,0.6); }
.select-indicator { position: absolute; top: 6px; right: 6px; width: 18px; height: 18px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.6); background: rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; font-size: 0.65rem; color: transparent; transition: all 0.12s; pointer-events: none; z-index: 2; }
.mon-card.selected .select-indicator { background: var(--gold); border-color: var(--gold); color: #1a1a2e; }
.mon-card.selected .select-indicator::after { content: '✓'; font-weight: 700; }

/* PRINT PREVIEW OVERLAY */
#print-preview-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.92); z-index: 600; flex-direction: column; align-items: center; }
#print-preview-overlay.active { display: flex; }
.print-preview-toolbar { display: flex; align-items: center; gap: 12px; padding: 14px 24px; background: rgba(22,33,62,0.98); border-bottom: 1px solid var(--border); width: 100%; flex-shrink: 0; }
.print-preview-title { font-family: 'Cinzel', serif; font-size: 0.85rem; font-weight: 700; letter-spacing: 0.1em; color: var(--gold); text-transform: uppercase; flex: 1; }
.print-preview-scroll { flex: 1; overflow-y: auto; padding: 24px; display: flex; flex-direction: column; align-items: center; gap: 20px; width: 100%; }
.print-preview-page { background: #fff; width: min(900px, 100%); aspect-ratio: 297/210; display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(2, 1fr); gap: 4px; padding: 10px; box-shadow: 0 4px 24px rgba(0,0,0,0.5); border-radius: 4px; }
.print-preview-page .mon-card { border-radius: 3px; font-size: 0.52rem; cursor: default; transform: none !important; box-shadow: none !important; }
.print-preview-page .mon-card:hover { transform: none !important; }
.print-preview-page .card-header { padding: 4px 6px; }
.print-preview-page .card-name { font-size: 0.58rem; }
.print-preview-page .cr-badge { font-size: 0.5rem; }
.print-preview-page .stat-label { font-size: 0.48rem; }
.print-preview-page .stat-val { font-size: 0.52rem; }
.print-preview-page .trait-tag { font-size: 0.42rem; }
.print-preview-page .ability-line { font-size: 0.48rem; }
.print-preview-page .card-stats-block { padding: 3px 6px; }
.print-preview-page .card-traits { padding: 2px 6px 3px; }
.print-preview-page .select-indicator { display: none; }

@media print {
  * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
  body > *:not(#print-output) { display: none !important; }
  #print-output { display: block !important; }
  @page { size: A4 landscape; margin: 0; }
  .print-page { page-break-after: always; display: grid !important; grid-template-columns: repeat(4, 1fr) !important; grid-template-rows: repeat(2, 1fr) !important; gap: 3mm !important; padding: 8mm !important; width: 297mm !important; height: 210mm !important; overflow: hidden !important; background: #fff !important; }
  .print-page:last-child { page-break-after: avoid; }
  .print-page .mon-card { border-radius: 4px !important; font-size: 0.52rem !important; }
  .print-page .card-header { padding: 5px 7px !important; }
  .print-page .card-name { font-size: 0.6rem !important; }
  .print-page .cr-badge { font-size: 0.54rem !important; }
  .print-page .stat-label { font-size: 0.5rem !important; }
  .print-page .stat-val { font-size: 0.56rem !important; }
  .print-page .trait-tag { font-size: 0.44rem !important; }
  .print-page .ability-line { font-size: 0.5rem !important; }
  .print-page .card-stats-block { padding: 4px 7px 3px !important; }
  .print-page .select-indicator { display: none !important; }
}

#btn-filter-toggle { display: none; }
@media (max-width: 768px) {
  #card-grid { grid-template-columns: 1fr 1fr; gap: 12px; padding: 14px; }
  .header-top { padding: 8px 14px; }
  .app-title { font-size: clamp(0.75rem, 3.5vw, 1.1rem); }
  .app-title span { display: none; }
  .btn-print,.btn-ghost,.selection-badge,.select-indicator { display: none !important; }
  #btn-filter-toggle { display: flex; align-items: center; gap: 4px; font-size: 0.7rem; padding: 4px 10px; background: rgba(201,168,76,0.15); border: 1px solid rgba(201,168,76,0.4); color: var(--gold); border-radius: 6px; cursor: pointer; font-family: 'Cinzel', serif; font-weight: 600; letter-spacing: 0.05em; }
  .filter-bar { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; padding: 0 14px; }
  .filter-bar.expanded { max-height: 500px; padding: 10px 14px 12px; }
}
@media (max-width: 480px) { #card-grid { grid-template-columns: 1fr; } }
#print-output { display: none; }

/* ============================================================
   SHARED HAMBURGER NAV
   ============================================================ */
.nav-overlay {
  position:fixed;inset:0;background:rgba(0,0,0,0.55);z-index:998;
  opacity:0;pointer-events:none;transition:opacity 0.25s ease;
}
.nav-overlay.open{opacity:1;pointer-events:all;}
.nav-drawer {
  position:fixed;top:0;right:-310px;width:290px;height:100vh;
  background:rgba(13,20,45,0.99);border-left:1px solid var(--border);
  backdrop-filter:blur(16px);z-index:999;
  transition:right 0.28s cubic-bezier(0.4,0,0.2,1);
  display:flex;flex-direction:column;
}
.nav-drawer.open{right:0;}
.nav-drawer-header {
  display:flex;align-items:center;justify-content:space-between;
  padding:18px 20px;border-bottom:1px solid var(--border);flex-shrink:0;
}
.nav-drawer-title {
  font-family:'Cinzel',serif;font-size:0.75rem;font-weight:700;
  letter-spacing:0.18em;text-transform:uppercase;color:var(--gold);
}
.nav-close-btn {
  background:none;border:none;color:var(--text-muted);font-size:1.3rem;
  cursor:pointer;padding:4px 6px;line-height:1;border-radius:4px;transition:color 0.15s;
}
.nav-close-btn:hover{color:var(--text-light);}
.nav-scroll{flex:1;overflow-y:auto;padding:8px 0 24px;}
.nav-section-label {
  font-family:'Cinzel',serif;font-size:0.58rem;font-weight:700;
  letter-spacing:0.22em;text-transform:uppercase;color:var(--text-dim);
  padding:16px 20px 6px;display:block;
}
.nav-item {
  display:flex;align-items:center;gap:12px;padding:11px 20px;
  text-decoration:none;color:var(--text-muted);
  font-family:'Cinzel',serif;font-size:0.75rem;font-weight:600;
  letter-spacing:0.07em;text-transform:uppercase;
  border-left:3px solid transparent;transition:all 0.14s;
}
.nav-item:hover,.nav-item.active{
  color:var(--gold);background:rgba(201,168,76,0.07);border-left-color:var(--gold-dim);
}
.nav-item .ni{width:1.1rem;height:1.1rem;flex-shrink:0;opacity:0.75;}
.nav-item:hover .ni,.nav-item.active .ni{opacity:1;}
.hamburger-btn {
  background:none;border:1px solid var(--border);border-radius:6px;
  padding:7px 10px;cursor:pointer;display:flex;flex-direction:column;
  gap:5px;transition:border-color 0.15s;flex-shrink:0;
}
.hamburger-btn:hover{border-color:var(--gold-dim);}
.hamburger-btn span{
  display:block;width:20px;height:2px;background:var(--text-muted);
  border-radius:2px;transition:background 0.15s;
}
.hamburger-btn:hover span{background:var(--gold);}
</style>
</head>
<body>

<!-- SHARED NAV DRAWER -->
<div class="nav-overlay" id="nav-overlay" onclick="closeNav()"></div>
<nav class="nav-drawer" id="nav-drawer">
  <div class="nav-drawer-header">
    <span class="nav-drawer-title">The Tome</span>
    <button class="nav-close-btn" onclick="closeNav()">&#x2715;</button>
  </div>
  <div class="nav-scroll">
    <span class="nav-section-label">Home</span>
    <a href="index.html" class="nav-item"><span class="ni"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg></span>&nbsp;Hub</a>
    <span class="nav-section-label">Tools</span>
    <a href="spelltome.html" class="nav-item"><span class="ni"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>&nbsp;Spell Tome</a>
    <a href="conditions.html" class="nav-item"><span class="ni"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></span>&nbsp;Condition Codex</a>
    <a href="wildshape.html" class="nav-item"><span class="ni"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M17 8C8 10 5.9 16.17 3.82 19.34L5.71 21l1-1C7.55 18.78 14 16 22 16 22 9 17 8 17 8z"/></svg></span>&nbsp;Wildshape &amp; Familiar</a>
    <a href="monsters.html" class="nav-item active"><span class="ni"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="12" r="1"/><circle cx="15" cy="12" r="1"/><path d="M8 20v2h8v-2"/><path d="M12 4C8.14 4 5 7.14 5 11c0 2.38 1.19 4.47 3 5.74V19h8v-2.26c1.81-1.27 3-3.36 3-5.74C19 7.14 15.86 4 12 4z"/></svg></span>&nbsp;Monster Codex</a>
    <a href="magic-items.html" class="nav-item"><span class="ni"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><polygon points="6 3 18 3 22 9 12 22 2 9"/><polyline points="22 9 12 9 6 3"/><line x1="12" y1="22" x2="12" y2="9"/></svg></span>&nbsp;Magic Item Compendium</a>
  </div>
</nav>

<div id="app-header">
  <div class="header-top">
    <div class="app-title">Monster Codex <span>D&D 5e Quick Reference</span></div>
    <div style="display:flex;align-items:center;gap:8px;">
      <span class="selection-badge" id="selection-count">0 selected</span>
      <button class="btn-ghost" id="btn-select-all" onclick="selectAllVisible()" disabled>Select All</button>
      <button class="btn-ghost" id="btn-clear" onclick="clearSelection()" disabled>Clear</button>
      <button class="btn btn-print" id="btn-print" onclick="openPrintPreview()" disabled>&#128424; Print to PDF</button>
      <button id="btn-filter-toggle" onclick="toggleFilters()">Filters <span id="toggle-arrow">▼</span></button>
      <button class="hamburger-btn" onclick="openNav()" aria-label="Open navigation"><span></span><span></span><span></span></button>
    </div>
  </div>
  <div class="filter-bar" id="filter-bar">
    <label for="search-input" class="filter-label">Search</label>
    <input type="text" class="search-input" id="search-input" placeholder="Search monsters…" oninput="applyFilters()" aria-label="Search monsters">
    <label for="cr-min" class="filter-label">CR</label>
    <select id="cr-min" onchange="applyFilters()">
      <option value="">Min</option>
      <option value="0">0</option><option value="0.125">1/8</option><option value="0.25">1/4</option>
      <option value="0.5">1/2</option><option value="1">1</option><option value="2">2</option>
      <option value="3">3</option><option value="4">4</option><option value="5">5</option>
      <option value="6">6</option><option value="7">7</option><option value="8">8</option>
      <option value="9">9</option><option value="10">10</option><option value="11">11</option>
      <option value="12">12</option><option value="13">13</option><option value="14">14</option>
      <option value="15">15</option><option value="17">17</option><option value="20">20</option>
      <option value="21">21</option><option value="23">23</option><option value="24">24</option>
      <option value="30">30</option>
    </select>
    <select id="cr-max" onchange="applyFilters()" aria-label="Maximum CR">
      <option value="">Max</option>
      <option value="0">0</option><option value="0.125">1/8</option><option value="0.25">1/4</option>
      <option value="0.5">1/2</option><option value="1">1</option><option value="2">2</option>
      <option value="3">3</option><option value="4">4</option><option value="5">5</option>
      <option value="6">6</option><option value="7">7</option><option value="8">8</option>
      <option value="9">9</option><option value="10">10</option><option value="11">11</option>
      <option value="12">12</option><option value="13">13</option><option value="14">14</option>
      <option value="15">15</option><option value="17">17</option><option value="20">20</option>
      <option value="21">21</option><option value="23">23</option><option value="24">24</option>
      <option value="30">30</option>
    </select>
    <div class="filter-divider"></div>
    <span class="filter-label">Type</span>
    <div class="pill-filters" id="type-pills"></div>
    <div class="filter-divider"></div>
    <span class="filter-label">Size</span>
    <div class="pill-filters" id="size-pills">
      <button type="button" class="pill active" data-val="all" onclick="togglePill(this,'size')" aria-pressed="true">All</button>
      <button type="button" class="pill" data-val="Tiny" onclick="togglePill(this,'size')">Tiny</button>
      <button type="button" class="pill" data-val="Small" onclick="togglePill(this,'size')">Small</button>
      <button type="button" class="pill" data-val="Medium" onclick="togglePill(this,'size')">Medium</button>
      <button type="button" class="pill" data-val="Large" onclick="togglePill(this,'size')">Large</button>
      <button type="button" class="pill" data-val="Huge" onclick="togglePill(this,'size')">Huge</button>
      <button type="button" class="pill" data-val="Gargantuan" onclick="togglePill(this,'size')">Garg.</button>
    </div>
    <button class="btn-reset" onclick="resetFilters()">Reset</button>
  </div>
</div>
<div id="results-bar"></div>
<div id="card-grid"></div>
<div id="empty-state" style="display:none;">
  <svg class="rune" viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true"><circle cx="32" cy="32" r="28"/><path d="M32 14v36M14 32h36M20 20l24 24M44 20L20 44"/></svg>
  <h2>No Monsters Found</h2>
  <p>Adjust your filters to find your quarry.</p>
</div>
<div id="modal-overlay" onclick="handleModalClick(event)">
  <div id="modal-box"></div>
</div>
<div id="print-preview-overlay">
  <div class="print-preview-toolbar">
    <span class="print-preview-title">&#128424; Print Preview</span>
    <button class="btn btn-print" onclick="executePrint()">Open Print Dialog</button>
    <button class="btn-ghost" onclick="closePrintPreview()">&#x2715; Close</button>
  </div>
  <div class="print-preview-scroll" id="print-preview-scroll"></div>
</div>
<div id="print-output"></div>

<script>
const TYPE_COLORS = {
  aberration:'#6a3a8a', beast:'#4a7a2a', celestial:'#b8902a', construct:'#5a6a7a',
  dragon:'#8a2a2a', elemental:'#3a6a8a', fey:'#c4306a', fiend:'#7a1a1a',
  giant:'#7a5a2a', humanoid:'#4a5a6a', monstrosity:'#5a3a6a', ooze:'#3a7a3a',
  plant:'#2a6a3a', undead:'#3a3a5a'
};

function cr(n) { if(n===0.125)return'1/8'; if(n===0.25)return'1/4'; if(n===0.5)return'1/2'; return String(n); }
function mod(n) { const m=Math.floor((n-10)/2); return (m>=0?'+':'')+m; }

const MONSTERS = [
  // CR 0
  {name:'Awakened Shrub',cr:0,size:'Small',type:'plant',ac:9,hp:10,speed:'20 ft',str:3,dex:8,con:11,int:10,wis:10,cha:6,dmgImmune:['fire'],senses:'Passive Perception 10',abilities:[{n:'False Appearance',t:'While motionless, indistinguishable from a normal shrub.'}],actions:[{n:'Rake',t:'+1 to hit, 1d4-1 slashing.'}]},
  {name:'Baboon',cr:0,size:'Small',type:'beast',ac:12,hp:3,speed:'30 ft, climb 30 ft',str:8,dex:14,con:11,int:4,wis:12,cha:6,senses:'Passive Perception 11',abilities:[{n:'Pack Tactics',t:'Advantage on attacks if ally is adjacent.'}],actions:[{n:'Bite',t:'+1 to hit, 1d4-1 piercing.'}]},
  {name:'Bat',cr:0,size:'Tiny',type:'beast',ac:12,hp:1,speed:'5 ft, fly 30 ft',str:2,dex:15,con:8,int:2,wis:12,cha:4,senses:'Blindsight 60 ft, Passive Perception 11',abilities:[{n:'Echolocation',t:'Cannot use blindsight while deafened.'},{n:'Keen Hearing',t:'Advantage on Perception relying on hearing.'}],actions:[{n:'Bite',t:'+0 to hit, 1 piercing.'}]},
  {name:'Cat',cr:0,size:'Tiny',type:'beast',ac:12,hp:2,speed:'40 ft, climb 30 ft',str:3,dex:15,con:10,int:3,wis:12,cha:7,skills:'Perception +3, Stealth +4',senses:'Darkvision 30 ft, Passive Perception 13',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Claws',t:'+0 to hit, 1 slashing.'}]},
  {name:'Crab',cr:0,size:'Tiny',type:'beast',ac:11,hp:2,speed:'20 ft, swim 20 ft',str:2,dex:11,con:10,int:1,wis:8,cha:2,skills:'Stealth +2',senses:'Blindsight 30 ft, Passive Perception 9',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Claw',t:'+0 to hit, 1 bludgeoning.'}]},
  {name:'Deer',cr:0,size:'Medium',type:'beast',ac:13,hp:4,speed:'50 ft',str:11,dex:16,con:11,int:2,wis:14,cha:5,senses:'Passive Perception 12',actions:[{n:'Bite',t:'+2 to hit, 1d4 piercing.'}]},
  {name:'Eagle',cr:0,size:'Small',type:'beast',ac:12,hp:3,speed:'10 ft, fly 60 ft',str:6,dex:15,con:10,int:2,wis:14,cha:7,skills:'Perception +4',senses:'Passive Perception 14',abilities:[{n:'Keen Sight',t:'Advantage on Perception relying on sight.'}],actions:[{n:'Talons',t:'+4 to hit, 1d4+2 slashing.'}]},
  {name:'Frog',cr:0,size:'Tiny',type:'beast',ac:11,hp:1,speed:'20 ft, swim 20 ft',str:1,dex:13,con:8,int:1,wis:8,cha:3,skills:'Perception +0, Stealth +3',senses:'Darkvision 30 ft, Passive Perception 10',abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Standing Leap',t:'Long jump 10 ft, high jump 5 ft.'}],actions:[]},
  {name:'Giant Fire Beetle',cr:0,size:'Small',type:'beast',ac:13,hp:4,speed:'30 ft',str:8,dex:10,con:12,int:1,wis:7,cha:3,senses:'Blindsight 30 ft, Passive Perception 8',abilities:[{n:'Illumination',t:'Sheds bright light 10 ft, dim light 10 ft further.'}],actions:[{n:'Bite',t:'+1 to hit, 1d6-1 slashing.'}]},
  {name:'Goat',cr:0,size:'Medium',type:'beast',ac:10,hp:4,speed:'40 ft',str:12,dex:10,con:11,int:2,wis:10,cha:5,senses:'Passive Perception 10',abilities:[{n:'Charge',t:'Move 20 ft then hit with Ram: DC 10 Str or knocked prone.'},{n:'Sure-Footed',t:'Advantage on Str/Dex saves vs knocked prone.'}],actions:[{n:'Ram',t:'+3 to hit, 1d4+1 bludgeoning.'}]},
  {name:'Hawk',cr:0,size:'Tiny',type:'beast',ac:13,hp:1,speed:'10 ft, fly 60 ft',str:5,dex:16,con:8,int:2,wis:14,cha:6,skills:'Perception +4',senses:'Passive Perception 14',abilities:[{n:'Keen Sight',t:'Advantage on Perception relying on sight.'}],actions:[{n:'Talons',t:'+5 to hit, 1 slashing.'}]},
  {name:'Hyena',cr:0,size:'Medium',type:'beast',ac:11,hp:5,speed:'50 ft',str:11,dex:13,con:12,int:2,wis:12,cha:5,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Pack Tactics',t:'Advantage on attacks if ally is adjacent.'}],actions:[{n:'Bite',t:'+2 to hit, 1d6 piercing.'}]},
  {name:'Jackal',cr:0,size:'Small',type:'beast',ac:12,hp:3,speed:'40 ft',str:8,dex:15,con:11,int:3,wis:12,cha:6,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally is adjacent.'}],actions:[{n:'Bite',t:'+1 to hit, 1d4-1 piercing.'}]},
  {name:'Lizard',cr:0,size:'Tiny',type:'beast',ac:10,hp:2,speed:'20 ft, climb 20 ft',str:2,dex:11,con:10,int:1,wis:8,cha:3,senses:'Darkvision 30 ft, Passive Perception 9',actions:[{n:'Bite',t:'+0 to hit, 1 piercing.'}]},
  {name:'Octopus',cr:0,size:'Small',type:'beast',ac:12,hp:3,speed:'5 ft, swim 30 ft',str:4,dex:15,con:11,int:3,wis:10,cha:4,skills:'Perception +2, Stealth +4',senses:'Darkvision 30 ft, Passive Perception 12',abilities:[{n:'Hold Breath',t:'Can hold breath 30 minutes.'},{n:'Underwater Camouflage',t:'Advantage on Stealth while underwater.'},{n:'Water Breathing',t:'Can breathe only underwater.'}],actions:[{n:'Tentacles',t:'+4 to hit, 1 bludgeoning. Grappled DC 10 Str.'}]},
  {name:'Owl',cr:0,size:'Tiny',type:'beast',ac:11,hp:1,speed:'5 ft, fly 60 ft',str:3,dex:13,con:8,int:2,wis:12,cha:7,skills:'Perception +3, Stealth +3',senses:'Darkvision 120 ft, Passive Perception 13',abilities:[{n:'Flyby',t:'Does not provoke opportunity attacks.'},{n:'Keen Hearing and Sight',t:'Advantage on Perception relying on hearing or sight.'}],actions:[{n:'Talons',t:'+3 to hit, 1 slashing.'}]},
  {name:'Panther',cr:0.25,size:'Medium',type:'beast',ac:12,hp:13,speed:'50 ft, climb 40 ft',str:14,dex:15,con:10,int:3,wis:14,cha:7,skills:'Perception +4, Stealth +6',senses:'Passive Perception 14',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'},{n:'Pounce',t:'Move 20 ft then Claw hit: DC 12 Str or prone; Bite as bonus action.'}],actions:[{n:'Bite',t:'+4 to hit, 1d6+2 piercing.'},{n:'Claw',t:'+4 to hit, 1d4+2 slashing.'}]},
  {name:'Poisonous Snake',cr:0.125,size:'Tiny',type:'beast',ac:13,hp:2,speed:'30 ft, swim 30 ft',str:2,dex:16,con:11,int:1,wis:10,cha:3,senses:'Blindsight 10 ft, Passive Perception 10',actions:[{n:'Bite',t:'+5 to hit, 1 piercing + 2d4 poison. DC 10 Con or poisoned 1 hour.'}]},
  {name:'Rat',cr:0,size:'Tiny',type:'beast',ac:10,hp:1,speed:'20 ft',str:2,dex:11,con:9,int:2,wis:10,cha:4,senses:'Darkvision 30 ft, Passive Perception 10',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Bite',t:'+0 to hit, 1 piercing.'}]},
  {name:'Raven',cr:0,size:'Tiny',type:'beast',ac:12,hp:1,speed:'10 ft, fly 50 ft',str:2,dex:14,con:8,int:2,wis:12,cha:6,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Mimicry',t:'Can mimic simple sounds; DC 10 Insight to identify.'}],actions:[{n:'Beak',t:'+4 to hit, 1 piercing.'}]},
  {name:'Scorpion',cr:0.125,size:'Tiny',type:'beast',ac:11,hp:1,speed:'10 ft',str:2,dex:11,con:8,int:1,wis:8,cha:2,senses:'Blindsight 10 ft, Passive Perception 9',actions:[{n:'Sting',t:'+2 to hit, 1 piercing + 1d4 poison. DC 9 Con or poisoned 1 hour.'}]},
  {name:'Spider',cr:0,size:'Tiny',type:'beast',ac:12,hp:1,speed:'20 ft, climb 20 ft',str:2,dex:14,con:8,int:1,wis:10,cha:2,skills:'Stealth +4',senses:'Darkvision 30 ft, Passive Perception 10',abilities:[{n:'Spider Climb',t:'Can climb difficult surfaces.'},{n:'Web Sense',t:'Detects any creature touching web.'},{n:'Web Walker',t:'Ignores web movement restrictions.'}],actions:[{n:'Bite',t:'+4 to hit, 1 piercing + 1d4 poison. DC 9 Con or poisoned 1 hour.'}]},
  {name:'Stirge',cr:0.125,size:'Tiny',type:'beast',ac:14,hp:2,speed:'10 ft, fly 40 ft',str:4,dex:16,con:11,int:2,wis:8,cha:6,senses:'Darkvision 60 ft, Passive Perception 9',actions:[{n:'Blood Drain',t:'+5 to hit, 1d4+3 piercing. Attaches; each turn deals 1d4+3 and target loses same HP.'}]},
  {name:'Vulture',cr:0,size:'Medium',type:'beast',ac:10,hp:5,speed:'10 ft, fly 50 ft',str:7,dex:10,con:13,int:2,wis:12,cha:4,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Keen Sight and Smell',t:'Advantage on Perception relying on sight or smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally is adjacent.'}],actions:[{n:'Beak',t:'+2 to hit, 2d4-2 piercing.'}]},
  {name:'Weasel',cr:0,size:'Tiny',type:'beast',ac:13,hp:1,speed:'30 ft',str:3,dex:16,con:8,int:2,wis:12,cha:3,skills:'Perception +3, Stealth +5',senses:'Passive Perception 13',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'}],actions:[{n:'Bite',t:'+5 to hit, 1 piercing.'}]},
  // CR 1/8
  {name:'Bandit',cr:0.125,size:'Medium',type:'humanoid',ac:12,hp:11,speed:'30 ft',str:11,dex:12,con:12,int:10,wis:10,cha:10,senses:'Passive Perception 10',actions:[{n:'Scimitar',t:'+3 to hit, 1d6+1 slashing.'},{n:'Crossbow',t:'+3 to hit, 80/320 ft, 1d8+1 piercing.'}]},
  {name:'Blood Hawk',cr:0.125,size:'Small',type:'beast',ac:12,hp:7,speed:'10 ft, fly 60 ft',str:6,dex:14,con:10,int:3,wis:14,cha:5,skills:'Perception +4',senses:'Passive Perception 14',abilities:[{n:'Keen Sight',t:'Advantage on Perception relying on sight.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Beak',t:'+4 to hit, 1d4+2 piercing.'}]},
  {name:'Camel',cr:0.125,size:'Large',type:'beast',ac:9,hp:15,speed:'50 ft',str:16,dex:8,con:14,int:2,wis:8,cha:5,senses:'Passive Perception 9',actions:[{n:'Bite',t:'+5 to hit, 2d4+3 bludgeoning.'}]},
  {name:'Flying Snake',cr:0.125,size:'Tiny',type:'beast',ac:14,hp:5,speed:'30 ft, fly 60 ft, swim 30 ft',str:4,dex:18,con:11,int:2,wis:12,cha:5,senses:'Blindsight 10 ft, Passive Perception 11',abilities:[{n:'Flyby',t:'Does not provoke opportunity attacks.'}],actions:[{n:'Bite',t:'+6 to hit, 1 piercing + 2d4 poison. DC 11 Con or poisoned 1 hour.'}]},
  {name:'Giant Crab',cr:0.125,size:'Medium',type:'beast',ac:15,hp:13,speed:'30 ft, swim 30 ft',str:13,dex:15,con:11,int:1,wis:9,cha:3,skills:'Stealth +4',senses:'Blindsight 30 ft, Passive Perception 9',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Claw',t:'+3 to hit, 1d6+1 bludgeoning. Grappled DC 11 Str.'}]},
  {name:'Giant Rat',cr:0.125,size:'Small',type:'beast',ac:12,hp:7,speed:'30 ft',str:7,dex:15,con:11,int:2,wis:10,cha:4,senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Bite',t:'+4 to hit, 2d4+2 piercing.'}]},
  {name:'Guard',cr:0.125,size:'Medium',type:'humanoid',ac:16,hp:11,speed:'30 ft',str:13,dex:12,con:12,int:10,wis:11,cha:10,skills:'Perception +2',senses:'Passive Perception 12',actions:[{n:'Spear',t:'+3 to hit, 1d6+1 piercing (1d8+1 two-handed).'}]},
  {name:'Kobold',cr:0.125,size:'Small',type:'humanoid',ac:12,hp:5,speed:'30 ft',str:7,dex:15,con:9,int:8,wis:7,cha:8,senses:'Darkvision 60 ft, Passive Perception 8',abilities:[{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Dagger',t:'+4 to hit, 1d4+2 piercing.'},{n:'Sling',t:'+4 to hit, 60/240 ft, 1d4+2 bludgeoning.'}]},
  {name:'Mastiff',cr:0.125,size:'Medium',type:'beast',ac:12,hp:5,speed:'40 ft',str:13,dex:14,con:12,int:3,wis:12,cha:7,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'}],actions:[{n:'Bite',t:'+3 to hit, 1d6+1 piercing. DC 11 Str or knocked prone.'}]},
  {name:'Mule',cr:0.125,size:'Medium',type:'beast',ac:10,hp:11,speed:'40 ft',str:14,dex:10,con:13,int:2,wis:10,cha:5,senses:'Passive Perception 10',abilities:[{n:'Beast of Burden',t:'Counts as Large for carrying capacity.'},{n:'Sure-Footed',t:'Advantage on Str/Dex saves vs knocked prone.'}],actions:[{n:'Hooves',t:'+4 to hit, 1d4+2 bludgeoning.'}]},
  {name:'Pony',cr:0.125,size:'Medium',type:'beast',ac:10,hp:11,speed:'40 ft',str:15,dex:10,con:13,int:2,wis:11,cha:7,senses:'Passive Perception 10',actions:[{n:'Hooves',t:'+4 to hit, 2d4+2 bludgeoning.'}]},
  {name:'Tribal Warrior',cr:0.125,size:'Medium',type:'humanoid',ac:12,hp:11,speed:'30 ft',str:13,dex:11,con:12,int:8,wis:11,cha:8,senses:'Passive Perception 10',abilities:[{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Spear',t:'+3 to hit, 1d6+1 piercing (1d8+1 two-handed).'}]},
  // CR 1/4
  {name:'Axe Beak',cr:0.25,size:'Large',type:'beast',ac:11,hp:19,speed:'50 ft',str:14,dex:12,con:12,int:2,wis:10,cha:5,senses:'Passive Perception 10',actions:[{n:'Beak',t:'+4 to hit, 1d8+2 slashing.'}]},
  {name:'Blink Dog',cr:0.25,size:'Medium',type:'fey',ac:13,hp:22,speed:'40 ft',str:12,dex:17,con:12,int:10,wis:13,cha:11,skills:'Perception +3, Stealth +5',senses:'Passive Perception 13',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'}],actions:[{n:'Bite',t:'+3 to hit, 1d6+1 piercing.'},{n:'Teleport (Recharge 4-6)',t:'Teleport up to 40 ft to an unoccupied space it can see.'}]},
  {name:'Boar',cr:0.25,size:'Medium',type:'beast',ac:11,hp:11,speed:'40 ft',str:13,dex:11,con:12,int:2,wis:9,cha:5,senses:'Passive Perception 9',abilities:[{n:'Charge',t:'Move 20 ft then Tusk hit: DC 11 Str or knocked prone.'},{n:'Relentless (Recharges after Rest)',t:'Reduced to 0 HP by <=7 damage: drops to 1 HP instead.'}],actions:[{n:'Tusk',t:'+3 to hit, 1d6+1 slashing.'}]},
  {name:'Constrictor Snake',cr:0.25,size:'Large',type:'beast',ac:12,hp:13,speed:'30 ft, swim 30 ft',str:15,dex:14,con:12,int:1,wis:10,cha:3,senses:'Blindsight 10 ft, Passive Perception 10',actions:[{n:'Bite',t:'+4 to hit, 1d6+2 piercing.'},{n:'Constrict',t:'+4 to hit, 1d8+2 bludgeoning. Grappled/restrained DC 14 Str.'}]},
  {name:'Draft Horse',cr:0.25,size:'Large',type:'beast',ac:10,hp:19,speed:'40 ft',str:18,dex:10,con:12,int:2,wis:11,cha:7,senses:'Passive Perception 10',actions:[{n:'Hooves',t:'+6 to hit, 2d6+4 bludgeoning.'}]},
  {name:'Elk',cr:0.25,size:'Large',type:'beast',ac:10,hp:13,speed:'50 ft',str:16,dex:10,con:12,int:2,wis:10,cha:6,senses:'Passive Perception 10',abilities:[{n:'Charge',t:'Move 20 ft then Ram hit: DC 13 Str or knocked prone.'}],actions:[{n:'Ram',t:'+5 to hit, 1d6+3 bludgeoning.'},{n:'Hooves',t:'+5 to hit, 2d4+3 bludgeoning. Prone targets only.'}]},
  {name:'Giant Badger',cr:0.25,size:'Medium',type:'beast',ac:10,hp:13,speed:'30 ft, burrow 10 ft',str:13,dex:11,con:15,int:2,wis:12,cha:5,senses:'Darkvision 30 ft, Passive Perception 11',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+3 to hit, 1d6+1 piercing.'},{n:'Claws',t:'+3 to hit, 2d4+1 slashing.'}]},
  {name:'Giant Centipede',cr:0.25,size:'Small',type:'beast',ac:13,hp:4,speed:'30 ft, climb 30 ft',str:5,dex:14,con:12,int:1,wis:7,cha:3,senses:'Blindsight 30 ft, Passive Perception 8',actions:[{n:'Bite',t:'+4 to hit, 1d4+2 piercing + 1d4 poison. DC 11 Con or poisoned and paralyzed up to 1 minute.'}]},
  {name:'Giant Frog',cr:0.25,size:'Medium',type:'beast',ac:11,hp:18,speed:'30 ft, swim 30 ft',str:12,dex:13,con:11,int:2,wis:10,cha:3,skills:'Perception +2, Stealth +3',senses:'Darkvision 30 ft, Passive Perception 12',abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Standing Leap',t:'Long jump 20 ft, high jump 10 ft.'}],actions:[{n:'Bite',t:'+3 to hit, 1d6+1 piercing. Grappled DC 11 Str; can swallow Small or smaller.'}]},
  {name:'Giant Lizard',cr:0.25,size:'Large',type:'beast',ac:12,hp:19,speed:'30 ft, climb 30 ft',str:15,dex:12,con:13,int:2,wis:10,cha:5,senses:'Darkvision 30 ft, Passive Perception 10',actions:[{n:'Bite',t:'+4 to hit, 1d8+2 piercing.'}]},
  {name:'Giant Owl',cr:0.25,size:'Large',type:'beast',ac:12,hp:19,speed:'5 ft, fly 60 ft',str:13,dex:15,con:12,int:8,wis:13,cha:10,skills:'Perception +5, Stealth +4',senses:'Darkvision 120 ft, Passive Perception 15',abilities:[{n:'Flyby',t:'Does not provoke opportunity attacks.'},{n:'Keen Hearing and Sight',t:'Advantage on Perception relying on hearing or sight.'}],actions:[{n:'Talons',t:'+3 to hit, 2d6+1 slashing.'}]},
  {name:'Giant Wolf Spider',cr:0.25,size:'Medium',type:'beast',ac:13,hp:11,speed:'40 ft, climb 40 ft',str:12,dex:16,con:13,int:3,wis:12,cha:4,skills:'Perception +3, Stealth +7',senses:'Blindsight 10 ft, Darkvision 60 ft, Passive Perception 13',abilities:[{n:'Spider Climb',t:'Can climb difficult surfaces.'},{n:'Web Sense',t:'Detects any creature touching web.'},{n:'Web Walker',t:'Ignores web restrictions.'}],actions:[{n:'Bite',t:'+3 to hit, 1d6+1 piercing + 1d4 poison. DC 11 Con or poisoned 1 hour.'}]},
  {name:'Goblin',cr:0.25,size:'Small',type:'humanoid',ac:15,hp:7,speed:'30 ft',str:8,dex:14,con:10,int:10,wis:8,cha:8,skills:'Stealth +6',senses:'Darkvision 60 ft, Passive Perception 9',abilities:[{n:'Nimble Escape',t:'Can take Disengage or Hide as bonus action.'}],actions:[{n:'Scimitar',t:'+4 to hit, 1d6+2 slashing.'},{n:'Shortbow',t:'+4 to hit, 80/320 ft, 1d6+2 piercing.'}]},
  {name:'Kenku',cr:0.25,size:'Medium',type:'humanoid',ac:13,hp:13,speed:'30 ft',str:10,dex:16,con:10,int:11,wis:10,cha:10,skills:'Deception +4, Perception +2, Stealth +5',senses:'Passive Perception 12',abilities:[{n:'Ambusher',t:'Advantage on attacks against surprised creatures.'},{n:'Mimicry',t:'Can mimic sounds and voices; DC 14 Insight to identify.'}],actions:[{n:'Dagger',t:'+5 to hit, 1d4+3 piercing.'},{n:'Shortsword',t:'+5 to hit, 1d6+3 piercing.'}]},
  {name:'Kuo-Toa',cr:0.25,size:'Medium',type:'humanoid',ac:13,hp:18,speed:'30 ft, swim 30 ft',str:13,dex:10,con:11,int:11,wis:10,cha:8,skills:'Perception +4',senses:'Darkvision 120 ft, Passive Perception 14',abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Slippery',t:'Advantage on saves vs grappled, restrained, etc.'},{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'}],actions:[{n:'Bite',t:'+3 to hit, 1d4+1 piercing.'},{n:'Spear',t:'+3 to hit, 1d6+1 piercing.'},{n:'Net',t:'+3 to hit, 5/15 ft, restrained DC 10 Str.'}]},
  {name:'Merfolk',cr:0.125,size:'Medium',type:'humanoid',ac:11,hp:11,speed:'10 ft, swim 40 ft',str:10,dex:13,con:12,int:11,wis:11,cha:12,skills:'Perception +2',senses:'Passive Perception 12',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Spear',t:'+2 to hit, 1d6 piercing (1d8 two-handed).'}]},
  {name:'Riding Horse',cr:0.25,size:'Large',type:'beast',ac:10,hp:13,speed:'60 ft',str:16,dex:10,con:12,int:2,wis:11,cha:7,senses:'Passive Perception 10',actions:[{n:'Hooves',t:'+5 to hit, 2d6+3 bludgeoning.'}]},
  {name:'Skeleton',cr:0.25,size:'Medium',type:'undead',ac:13,hp:13,speed:'30 ft',str:10,dex:14,con:15,int:6,wis:8,cha:5,dmgVuln:['bludgeoning'],dmgImmune:['poison'],condImmune:['exhaustion','poisoned'],senses:'Darkvision 60 ft, Passive Perception 9',actions:[{n:'Shortsword',t:'+4 to hit, 1d6+2 piercing.'},{n:'Shortbow',t:'+4 to hit, 80/320 ft, 1d6+2 piercing.'}]},
  {name:'Swarm of Bats',cr:0.25,size:'Medium',type:'beast',ac:12,hp:22,speed:'0 ft, fly 30 ft',str:5,dex:15,con:10,int:2,wis:12,cha:4,dmgResist:['bludgeoning','piercing','slashing'],condImmune:['charmed','frightened','grappled','paralyzed','petrified','prone','restrained','stunned'],senses:'Blindsight 60 ft, Passive Perception 11',abilities:[{n:'Echolocation',t:'Cannot use blindsight while deafened.'},{n:'Swarm',t:'Can occupy another creature\'s space.'}],actions:[{n:'Bites',t:'+4 to hit, 2d4 piercing (1d4 if half HP or fewer).'}]},
  {name:'Swarm of Rats',cr:0.25,size:'Medium',type:'beast',ac:10,hp:24,speed:'30 ft',str:9,dex:11,con:9,int:2,wis:10,cha:3,dmgResist:['bludgeoning','piercing','slashing'],condImmune:['charmed','frightened','grappled','paralyzed','petrified','prone','restrained','stunned'],senses:'Darkvision 30 ft, Passive Perception 10',abilities:[{n:'Swarm',t:'Can occupy another creature\'s space.'}],actions:[{n:'Bites',t:'+2 to hit, 2d6 piercing (1d6 if half HP or fewer).'}]},
  {name:'Swarm of Ravens',cr:0.25,size:'Medium',type:'beast',ac:12,hp:24,speed:'10 ft, fly 50 ft',str:6,dex:14,con:8,int:3,wis:12,cha:6,dmgResist:['bludgeoning','piercing','slashing'],condImmune:['charmed','frightened','grappled','paralyzed','petrified','prone','restrained','stunned'],skills:'Perception +5',senses:'Passive Perception 15',abilities:[{n:'Swarm',t:'Can occupy another creature\'s space.'}],actions:[{n:'Beaks',t:'+4 to hit, 2d6 piercing (1d6 if half HP or fewer).'}]},
  {name:'Wolf',cr:0.25,size:'Medium',type:'beast',ac:13,hp:11,speed:'40 ft',str:12,dex:15,con:12,int:3,wis:12,cha:6,skills:'Perception +3, Stealth +4',senses:'Passive Perception 13',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Bite',t:'+4 to hit, 2d4+2 piercing. DC 11 Str or knocked prone.'}]},
  {name:'Zombie',cr:0.25,size:'Medium',type:'undead',ac:8,hp:22,speed:'20 ft',str:13,dex:6,con:16,int:3,wis:6,cha:5,savingThrows:'Wis +0',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Darkvision 60 ft, Passive Perception 8',abilities:[{n:'Undead Fortitude',t:'On being reduced to 0 HP (not radiant or crit), DC 5+damage Con save or drop to 1 HP instead.'}],actions:[{n:'Slam',t:'+3 to hit, 1d6+1 bludgeoning.'}]},
  // CR 1/2
  {name:'Ape',cr:0.5,size:'Medium',type:'beast',ac:12,hp:19,speed:'30 ft, climb 30 ft',str:16,dex:14,con:14,int:6,wis:12,cha:7,skills:'Athletics +5, Perception +3',senses:'Passive Perception 13',actions:[{n:'Multiattack',t:'Two Fist attacks.'},{n:'Fist',t:'+5 to hit, 1d6+3 bludgeoning.'},{n:'Rock',t:'+5 to hit, 25/50 ft, 1d6+3 bludgeoning.'}]},
  {name:'Black Bear',cr:0.5,size:'Medium',type:'beast',ac:11,hp:19,speed:'40 ft, climb 30 ft',str:15,dex:10,con:14,int:2,wis:12,cha:7,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+4 to hit, 1d6+2 piercing.'},{n:'Claws',t:'+4 to hit, 2d4+2 slashing.'}]},
  {name:'Cockatrice',cr:0.5,size:'Small',type:'monstrosity',ac:11,hp:27,speed:'20 ft, fly 40 ft',str:6,dex:12,con:12,int:2,wis:13,cha:5,senses:'Darkvision 60 ft, Passive Perception 11',actions:[{n:'Beak',t:'+3 to hit, 1d4+1 piercing. DC 11 Con or restrained; fail again: petrified 24 hours.'}]},
  {name:'Crocodile',cr:0.5,size:'Large',type:'beast',ac:12,hp:19,speed:'20 ft, swim 30 ft',str:15,dex:10,con:13,int:2,wis:10,cha:5,skills:'Stealth +2',senses:'Passive Perception 10',abilities:[{n:'Hold Breath',t:'Can hold breath 15 minutes.'}],actions:[{n:'Bite',t:'+4 to hit, 1d10+2 piercing. Grappled DC 12 Str.'}]},
  {name:'Gnoll',cr:0.5,size:'Medium',type:'humanoid',ac:15,hp:22,speed:'30 ft',str:14,dex:12,con:11,int:6,wis:10,cha:7,senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Rampage',t:'When reducing a creature to 0 HP, move half speed and Bite as bonus action.'}],actions:[{n:'Bite',t:'+4 to hit, 1d4+2 piercing.'},{n:'Spear',t:'+4 to hit, 1d6+2 piercing.'},{n:'Longbow',t:'+3 to hit, 150/600 ft, 1d8+1 piercing.'}]},
  {name:'Gray Ooze',cr:0.5,size:'Medium',type:'ooze',ac:8,hp:22,speed:'10 ft, climb 10 ft',str:12,dex:6,con:16,int:1,wis:6,cha:2,dmgResist:['acid','cold','fire'],condImmune:['blinded','charmed','deafened','exhaustion','frightened','prone'],senses:'Blindsight 60 ft, Passive Perception 8',abilities:[{n:'Amorphous',t:'Can move through 1-inch gaps.'},{n:'Corrode Metal',t:'Non-magic metal weapons that hit it corrode; cumulative -1 to damage, destroyed at -5.'},{n:'False Appearance',t:'While still, indistinguishable from wet stone.'}],actions:[{n:'Pseudopod',t:'+3 to hit, 1d6+1 bludgeoning + 1d6 acid. Metal armor AC reduced by 1.'}]},
  {name:'Hobgoblin',cr:0.5,size:'Medium',type:'humanoid',ac:18,hp:11,speed:'30 ft',str:13,dex:12,con:12,int:10,wis:10,cha:9,senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Martial Advantage',t:'Once per turn, extra 2d6 damage to a creature if ally is adjacent.'}],actions:[{n:'Longsword',t:'+3 to hit, 1d8+1 slashing.'},{n:'Longbow',t:'+3 to hit, 150/600 ft, 1d8+1 piercing.'}]},
  {name:'Lizardfolk',cr:0.5,size:'Medium',type:'humanoid',ac:15,hp:22,speed:'30 ft, swim 30 ft',str:15,dex:10,con:13,int:7,wis:12,cha:7,skills:'Perception +3, Stealth +4, Survival +5',senses:'Passive Perception 13',abilities:[{n:'Hold Breath',t:'Can hold breath 15 minutes.'}],actions:[{n:'Multiattack',t:'Two melee attacks.'},{n:'Bite',t:'+4 to hit, 1d6+2 piercing.'},{n:'Heavy Club',t:'+4 to hit, 1d6+2 bludgeoning.'},{n:'Javelin',t:'+4 to hit, 30/120 ft, 1d6+2 piercing.'}]},
  {name:'Magmin',cr:0.5,size:'Small',type:'elemental',ac:14,hp:9,speed:'30 ft',str:7,dex:15,con:12,int:8,wis:11,cha:10,dmgImmune:['fire'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Death Burst',t:'On death: explodes 10 ft, DC 11 Dex or 2d6 fire; ignites objects.'},{n:'Ignited Illumination',t:'Bonus action: ignite or extinguish.'}],actions:[{n:'Touch',t:'+4 to hit, 2d6 fire. Target ignites; 1d6 fire/turn until extinguished.'}]},
  {name:'Orc',cr:0.5,size:'Medium',type:'humanoid',ac:13,hp:15,speed:'30 ft',str:16,dex:12,con:16,int:7,wis:11,cha:10,skills:'Intimidation +2',senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Aggressive',t:'Bonus action: move up to speed toward hostile.'}],actions:[{n:'Greataxe',t:'+5 to hit, 1d12+3 slashing.'},{n:'Javelin',t:'+5 to hit, 30/120 ft, 1d6+3 piercing.'}]},
  {name:'Sahuagin',cr:0.5,size:'Medium',type:'humanoid',ac:12,hp:22,speed:'30 ft, swim 40 ft',str:13,dex:11,con:12,int:12,wis:13,cha:9,senses:'Darkvision 120 ft, Passive Perception 13',abilities:[{n:'Blood Frenzy',t:'Advantage on attacks against bleeding creatures.'},{n:'Shark Telepathy',t:'Can magically command any shark within 120 ft.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+3 to hit, 1d4+1 piercing.'},{n:'Claws',t:'+3 to hit, 1d4+1 slashing.'},{n:'Spear',t:'+3 to hit, 1d6+1 piercing.'}]},
  {name:'Scout',cr:0.5,size:'Medium',type:'humanoid',ac:13,hp:16,speed:'30 ft',str:11,dex:14,con:12,int:11,wis:13,cha:11,skills:'Nature +4, Perception +5, Stealth +6, Survival +5',senses:'Passive Perception 15',abilities:[{n:'Keen Hearing and Sight',t:'Advantage on Perception relying on hearing or sight.'}],actions:[{n:'Multiattack',t:'Two Shortsword attacks.'},{n:'Shortsword',t:'+4 to hit, 1d6+2 piercing.'},{n:'Longbow',t:'+4 to hit, 150/600 ft, 1d8+2 piercing.'}]},
  {name:'Swarm of Insects',cr:0.5,size:'Medium',type:'beast',ac:12,hp:22,speed:'20 ft, climb 20 ft',str:3,dex:13,con:10,int:1,wis:7,cha:1,dmgResist:['bludgeoning','piercing','slashing'],condImmune:['charmed','frightened','grappled','paralyzed','petrified','prone','restrained','stunned'],senses:'Blindsight 10 ft, Passive Perception 8',abilities:[{n:'Swarm',t:'Can occupy another creature\'s space.'}],actions:[{n:'Bites',t:'+3 to hit, 2d4 piercing (1d4 if half HP or fewer) + 1d4 poison.'}]},
  {name:'Thug',cr:0.5,size:'Medium',type:'humanoid',ac:11,hp:32,speed:'30 ft',str:15,dex:11,con:14,int:10,wis:10,cha:11,skills:'Intimidation +2',senses:'Passive Perception 10',abilities:[{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Multiattack',t:'Two Mace attacks.'},{n:'Mace',t:'+4 to hit, 1d6+2 bludgeoning.'},{n:'Heavy Crossbow',t:'+2 to hit, 100/400 ft, 1d10 piercing.'}]},
  {name:'Worg',cr:0.5,size:'Large',type:'monstrosity',ac:13,hp:26,speed:'50 ft',str:16,dex:13,con:13,int:7,wis:11,cha:8,skills:'Perception +4',senses:'Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'}],actions:[{n:'Bite',t:'+5 to hit, 2d6+3 piercing. DC 13 Str or knocked prone.'}]},
  // CR 1
  {name:'Brown Bear',cr:1,size:'Large',type:'beast',ac:11,hp:34,speed:'40 ft, climb 30 ft',str:19,dex:10,con:16,int:2,wis:13,cha:7,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+5 to hit, 1d8+4 piercing.'},{n:'Claws',t:'+5 to hit, 2d6+4 slashing.'}]},
  {name:'Bugbear',cr:1,size:'Medium',type:'humanoid',ac:16,hp:27,speed:'30 ft',str:15,dex:14,con:13,int:8,wis:11,cha:9,skills:'Stealth +6, Survival +2',senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Brute',t:'Extra die of weapon damage on hits.'},{n:'Surprise Attack',t:'Extra 2d6 damage if surprises and hits first round.'}],actions:[{n:'Morningstar',t:'+4 to hit, 2d8+2 piercing.'},{n:'Javelin',t:'+4 to hit, 30/120 ft, 2d6+2 piercing.'}]},
  {name:'Dire Wolf',cr:1,size:'Large',type:'beast',ac:14,hp:37,speed:'50 ft',str:17,dex:15,con:15,int:3,wis:12,cha:7,skills:'Perception +3, Stealth +4',senses:'Passive Perception 13',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Bite',t:'+5 to hit, 2d6+3 piercing. DC 13 Str or knocked prone.'}]},
  {name:'Dryad',cr:1,size:'Medium',type:'fey',ac:11,hp:22,speed:'30 ft',str:10,dex:12,con:11,int:14,wis:15,cha:18,skills:'Nature +4, Perception +4, Stealth +5',senses:'Darkvision 60 ft, Passive Perception 14',spellcaster:true,abilities:[{n:'Innate Spellcasting',t:'At will: Druidcraft; 3/day: Entangle, Goodberry; 1/day: Barkskin, Pass without Trace, Shillelagh.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Speak with Beasts and Plants',t:'Can communicate with beasts and plants.'}],actions:[{n:'Club',t:'+2 to hit (+6 with Shillelagh), 1d4 (1d8+4 with Shillelagh).'},{n:'Fey Charm',t:'DC 14 Wis or charmed by dryad.'}]},
  {name:'Duergar',cr:1,size:'Medium',type:'humanoid',ac:16,hp:26,speed:'25 ft',str:14,dex:11,con:14,int:11,wis:10,cha:9,dmgResist:['poison'],senses:'Darkvision 120 ft, Passive Perception 10',abilities:[{n:'Duergar Resilience',t:'Advantage on saves vs poison, spells, illusions.'},{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'}],actions:[{n:'Enlarge (Recharges after Rest)',t:'Size becomes Large for 1 min; damage dice increase.'},{n:'War Pick',t:'+4 to hit, 1d8+2 piercing.'},{n:'Javelin',t:'+4 to hit, 30/120 ft, 1d6+2 piercing.'},{n:'Invisibility (Recharges after Rest)',t:'Invisible until it attacks or uses Enlarge.'}]},
  {name:'Ghoul',cr:1,size:'Medium',type:'undead',ac:12,hp:22,speed:'30 ft',str:13,dex:15,con:10,int:7,wis:10,cha:6,dmgImmune:['poison'],condImmune:['charmed','exhaustion','poisoned'],senses:'Darkvision 60 ft, Passive Perception 10',actions:[{n:'Claws',t:'+4 to hit, 2d4+2 slashing. DC 10 Con or paralyzed until end of next turn (not elves).'},{n:'Bite',t:'+2 to hit, 2d6 piercing.'}]},
  {name:'Giant Eagle',cr:1,size:'Large',type:'beast',ac:13,hp:26,speed:'10 ft, fly 80 ft',str:16,dex:17,con:13,int:8,wis:14,cha:10,skills:'Perception +4',senses:'Passive Perception 14',abilities:[{n:'Keen Sight',t:'Advantage on Perception relying on sight.'}],actions:[{n:'Multiattack',t:'Beak and Talons.'},{n:'Beak',t:'+5 to hit, 1d6+3 piercing.'},{n:'Talons',t:'+5 to hit, 2d6+3 slashing.'}]},
  {name:'Giant Hyena',cr:1,size:'Large',type:'beast',ac:12,hp:45,speed:'50 ft',str:16,dex:14,con:14,int:2,wis:12,cha:7,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Rampage',t:'When reducing to 0 HP with Bite, move half speed and Bite as bonus action.'}],actions:[{n:'Bite',t:'+5 to hit, 2d6+3 piercing.'}]},
  {name:'Giant Octopus',cr:1,size:'Large',type:'beast',ac:11,hp:52,speed:'10 ft, swim 60 ft',str:17,dex:13,con:13,int:4,wis:10,cha:4,skills:'Perception +4, Stealth +5',senses:'Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Hold Breath',t:'Can hold breath 1 hour.'},{n:'Underwater Camouflage',t:'Advantage on Stealth underwater.'},{n:'Water Breathing',t:'Can breathe only underwater.'}],actions:[{n:'Tentacles',t:'+5 to hit, 2d6+3 bludgeoning. Grappled DC 13 Str.'},{n:'Ink Cloud (Recharges after Rest)',t:'20 ft radius; heavily obscured 1 minute.'}]},
  {name:'Giant Spider',cr:1,size:'Large',type:'beast',ac:14,hp:26,speed:'30 ft, climb 30 ft',str:14,dex:16,con:12,int:2,wis:11,cha:4,skills:'Stealth +7',senses:'Blindsight 10 ft, Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Spider Climb',t:'Can climb difficult surfaces including ceilings.'},{n:'Web Sense',t:'Knows exact location of anything touching its web.'},{n:'Web Walker',t:'Ignores web restrictions.'}],actions:[{n:'Bite',t:'+5 to hit, 1d8+3 piercing + 2d8 poison. DC 11 Con or poisoned 1 hour; if fails by 5+, unconscious.'},{n:'Web (Recharge 5-6)',t:'+5 to hit, 30/60 ft, restrained DC 12 Str.'}]},
  {name:'Giant Toad',cr:1,size:'Large',type:'beast',ac:11,hp:39,speed:'20 ft, swim 40 ft',str:15,dex:13,con:13,int:2,wis:10,cha:3,senses:'Darkvision 30 ft, Passive Perception 10',abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Standing Leap',t:'Long jump 20 ft, high jump 10 ft.'}],actions:[{n:'Bite',t:'+4 to hit, 1d10+2 piercing + 1d10 poison. DC 13 Con or poisoned 1 hour; can swallow Medium or smaller.'}]},
  {name:'Giant Vulture',cr:1,size:'Large',type:'beast',ac:10,hp:22,speed:'10 ft, fly 60 ft',str:15,dex:10,con:15,int:6,wis:12,cha:7,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Keen Sight and Smell',t:'Advantage on Perception relying on sight or smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'}],actions:[{n:'Multiattack',t:'Beak and Talons.'},{n:'Beak',t:'+4 to hit, 2d4+2 piercing.'},{n:'Talons',t:'+4 to hit, 2d6+2 slashing.'}]},
  {name:'Harpy',cr:1,size:'Medium',type:'monstrosity',ac:11,hp:38,speed:'20 ft, fly 40 ft',str:12,dex:13,con:12,int:7,wis:10,cha:13,senses:'Passive Perception 10',actions:[{n:'Multiattack',t:'Claws and Club.'},{n:'Claws',t:'+3 to hit, 2d4+1 slashing.'},{n:'Club',t:'+3 to hit, 1d4+1 bludgeoning.'},{n:'Luring Song',t:'Humanoids/giants within 300 ft, DC 11 Wis or charmed; must move toward harpy.'}]},
  {name:'Imp',cr:1,size:'Tiny',type:'fiend',ac:13,hp:10,speed:'20 ft, fly 40 ft',str:6,dex:17,con:13,int:11,wis:12,cha:14,skills:'Deception +4, Insight +3, Persuasion +4, Stealth +5',dmgImmune:['fire','poison'],dmgResist:['cold','bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Darkvision 120 ft, Passive Perception 11',abilities:[{n:'Devil\'s Sight',t:'Magical darkness does not impede darkvision.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Shapechanger',t:'Can polymorph into rat, raven, or spider.'}],actions:[{n:'Sting',t:'+5 to hit, 1d4+3 piercing + 3d6 poison. DC 11 Con or poisoned 1 minute.'},{n:'Invisibility',t:'Becomes invisible until it attacks.'}]},
  {name:'Lion',cr:1,size:'Large',type:'beast',ac:12,hp:26,speed:'50 ft',str:17,dex:15,con:13,int:3,wis:12,cha:8,skills:'Perception +3, Stealth +6',senses:'Passive Perception 13',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'},{n:'Pounce',t:'Move 20 ft and Claw hit: DC 13 Str or prone; Bite as bonus action.'}],actions:[{n:'Bite',t:'+5 to hit, 1d8+3 piercing.'},{n:'Claw',t:'+5 to hit, 1d6+3 slashing.'}]},
  {name:'Quasit',cr:1,size:'Tiny',type:'fiend',ac:13,hp:7,speed:'40 ft',str:5,dex:17,con:10,int:7,wis:10,cha:10,skills:'Stealth +5',dmgImmune:['fire','poison'],dmgResist:['cold','bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Darkvision 120 ft, Passive Perception 10',abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Shapechanger',t:'Can polymorph into bat, centipede, or toad.'}],actions:[{n:'Claw',t:'+4 to hit, 1d4+3 piercing + 1d4 poison. DC 10 Con or poisoned 1 minute.'},{n:'Scare (1/day)',t:'DC 10 Wis or frightened 1 minute.'},{n:'Invisibility',t:'Invisible until it attacks or casts.'}]},
  {name:'Specter',cr:1,size:'Medium',type:'undead',ac:12,hp:22,speed:'0 ft, fly 50 ft (hover)',str:1,dex:14,con:11,int:10,wis:10,cha:11,dmgImmune:['necrotic','poison'],dmgResist:['acid','cold','fire','lightning','thunder','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','grappled','paralyzed','petrified','poisoned','prone','restrained','unconscious'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Incorporeal Movement',t:'Can pass through objects; 1d10 force if ending inside.'},{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'}],actions:[{n:'Life Drain',t:'+4 to hit, 3d6 necrotic. DC 10 Con or max HP reduced by necrotic dealt; dies at 0 max HP.'}]},
  {name:'Tiger',cr:1,size:'Large',type:'beast',ac:12,hp:37,speed:'40 ft',str:17,dex:15,con:14,int:3,wis:12,cha:8,skills:'Perception +3, Stealth +6',senses:'Darkvision 60 ft, Passive Perception 13',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'},{n:'Pounce',t:'Move 20 ft and Claw hit: DC 13 Str or prone; Bite as bonus action.'}],actions:[{n:'Bite',t:'+5 to hit, 1d10+3 piercing.'},{n:'Claw',t:'+5 to hit, 1d6+3 slashing.'}]},
  // CR 2
  {name:'Azer',cr:2,size:'Medium',type:'elemental',ac:17,hp:39,speed:'30 ft',str:17,dex:12,con:15,int:12,wis:13,cha:10,savingThrows:'Con +4',dmgImmune:['fire','poison'],condImmune:['poisoned'],senses:'Passive Perception 11',abilities:[{n:'Heated Body',t:'Touching or hitting azer in melee: 2d6 fire.'},{n:'Heated Weapons',t:'Metal melee weapons deal extra 2d6 fire.'}],actions:[{n:'Warhammer',t:'+5 to hit, 1d8+3 bludgeoning + 2d6 fire.'}]},
  {name:'Bandit Captain',cr:2,size:'Medium',type:'humanoid',ac:15,hp:65,speed:'30 ft',str:15,dex:16,con:14,int:14,wis:11,cha:14,savingThrows:'Str +4, Dex +5, Wis +2',skills:'Athletics +4, Deception +4',senses:'Passive Perception 10',actions:[{n:'Multiattack',t:'Three attacks: two Scimitars and one Dagger.'},{n:'Scimitar',t:'+5 to hit, 1d6+3 slashing.'},{n:'Dagger',t:'+5 to hit, 1d4+3 piercing.'}]},
  {name:'Berserker',cr:2,size:'Medium',type:'humanoid',ac:13,hp:67,speed:'30 ft',str:16,dex:12,con:17,int:9,wis:11,cha:9,senses:'Passive Perception 10',abilities:[{n:'Reckless',t:'At start of turn, grant advantage on melee attacks; attacks against berserker also have advantage.'}],actions:[{n:'Greataxe',t:'+5 to hit, 1d12+3 slashing.'}]},
  {name:'Black Dragon Wyrmling',cr:2,size:'Medium',type:'dragon',ac:17,hp:33,speed:'30 ft, fly 60 ft, swim 30 ft',str:15,dex:14,con:13,int:10,wis:11,cha:13,savingThrows:'Dex +4, Con +3, Wis +2, Cha +3',skills:'Perception +4, Stealth +4',dmgImmune:['acid'],senses:'Blindsight 10 ft, Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Bite',t:'+4 to hit, 1d10+2 piercing + 1d4 acid.'},{n:'Acid Breath (Recharge 5-6)',t:'30 ft line, DC 11 Dex or 3d8 acid; half on save.'}]},
  {name:'Cult Fanatic',cr:2,size:'Medium',type:'humanoid',ac:13,hp:33,speed:'30 ft',str:11,dex:14,con:12,int:10,wis:13,cha:14,skills:'Deception +4, Persuasion +4, Religion +2',senses:'Passive Perception 11',spellcaster:true,abilities:[{n:'Dark Devotion',t:'Advantage on saves vs charmed and frightened.'},{n:'Spellcasting',t:'4th-level Wis spellcaster; save DC 11. Includes: Command, Inflict Wounds, Hold Person, Spiritual Weapon.'}],actions:[{n:'Multiattack',t:'Two Dagger attacks.'},{n:'Dagger',t:'+4 to hit, 1d4+2 piercing.'}]},
  {name:'Druid',cr:2,size:'Medium',type:'humanoid',ac:11,hp:27,speed:'30 ft',str:10,dex:12,con:13,int:12,wis:15,cha:11,skills:'Medicine +4, Nature +3, Perception +4',senses:'Passive Perception 14',spellcaster:true,abilities:[{n:'Spellcasting',t:'4th-level Wis spellcaster; save DC 12. Cantrips: Druidcraft, Produce Flame, Shillelagh. 1st: Entangle, Longstrider. 2nd: Animal Messenger, Barkskin.'}],actions:[{n:'Quarterstaff',t:'+2 to hit, 1d6 bludgeoning (1d8+2 with Shillelagh).'}]},
  {name:'Ettercap',cr:2,size:'Medium',type:'monstrosity',ac:13,hp:44,speed:'30 ft, climb 30 ft',str:14,dex:15,con:13,int:7,wis:12,cha:8,skills:'Perception +3, Stealth +4, Survival +3',senses:'Darkvision 60 ft, Passive Perception 13',abilities:[{n:'Spider Climb',t:'Can climb difficult surfaces.'},{n:'Web Sense',t:'Detects any creature touching web.'},{n:'Web Walker',t:'Ignores web restrictions.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+4 to hit, 1d8+2 piercing + 1d8 poison. DC 11 Con or poisoned 1 minute.'},{n:'Claws',t:'+4 to hit, 2d4+2 slashing.'},{n:'Web (Recharge 5-6)',t:'+4 to hit, 30/60 ft, restrained DC 11 Str.'}]},
  {name:'Gargoyle',cr:2,size:'Medium',type:'elemental',ac:15,hp:52,speed:'30 ft, fly 60 ft',str:15,dex:11,con:16,int:6,wis:11,cha:7,dmgImmune:['poison','psychic','bludgeoning','piercing','slashing from non-magic'],condImmune:['exhaustion','petrified','poisoned'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'False Appearance',t:'While motionless, indistinguishable from a stone statue.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+4 to hit, 1d6+2 piercing.'},{n:'Claws',t:'+4 to hit, 1d6+2 slashing.'}]},
  {name:'Ghast',cr:2,size:'Medium',type:'undead',ac:13,hp:36,speed:'30 ft',str:16,dex:17,con:10,int:11,wis:10,cha:8,dmgResist:['necrotic'],dmgImmune:['poison'],condImmune:['charmed','exhaustion','poisoned'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Stench',t:'Creatures starting turn within 5 ft, DC 10 Con or poisoned until start of next turn.'},{n:'Turning Defiance',t:'Ghasts and nearby ghouls have advantage on Turn Undead saves.'}],actions:[{n:'Bite',t:'+3 to hit, 2d8+3 piercing.'},{n:'Claws',t:'+5 to hit, 2d4+3 slashing. DC 10 Con or paralyzed 1 minute.'}]},
  {name:'Giant Boar',cr:2,size:'Large',type:'beast',ac:12,hp:42,speed:'40 ft',str:17,dex:10,con:16,int:2,wis:7,cha:5,senses:'Passive Perception 8',abilities:[{n:'Charge',t:'Move 20 ft and Tusk hit: DC 13 Str or knocked prone.'},{n:'Relentless (Recharges after Rest)',t:'Reduced to 0 HP by <=10 damage: drops to 1 HP.'}],actions:[{n:'Tusk',t:'+5 to hit, 2d6+3 slashing.'}]},
  {name:'Giant Constrictor Snake',cr:2,size:'Huge',type:'beast',ac:12,hp:60,speed:'30 ft, swim 30 ft',str:19,dex:14,con:12,int:1,wis:10,cha:3,skills:'Perception +2',senses:'Blindsight 10 ft, Passive Perception 12',actions:[{n:'Bite',t:'+6 to hit, 2d6+4 piercing.'},{n:'Constrict',t:'+6 to hit, 2d8+4 bludgeoning. Grappled/restrained DC 16 Str.'}]},
  {name:'Giant Elk',cr:2,size:'Huge',type:'beast',ac:14,hp:42,speed:'60 ft',str:19,dex:16,con:14,int:7,wis:14,cha:10,skills:'Perception +4',senses:'Passive Perception 14',abilities:[{n:'Charge',t:'Move 20 ft and Ram hit: DC 14 Str or knocked prone.'}],actions:[{n:'Ram',t:'+6 to hit, 2d6+4 bludgeoning.'},{n:'Hooves',t:'+6 to hit, 4d8+4 bludgeoning. Prone targets only.'}]},
  {name:'Gnoll Pack Lord',cr:2,size:'Medium',type:'humanoid',ac:15,hp:49,speed:'30 ft',str:16,dex:14,con:13,int:8,wis:11,cha:9,senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Rampage',t:'When reducing to 0 HP, move half speed and Bite as bonus action.'}],actions:[{n:'Multiattack',t:'Bite and two Flails.'},{n:'Bite',t:'+5 to hit, 1d4+3 piercing.'},{n:'Flail',t:'+5 to hit, 1d8+3 bludgeoning.'}]},
  {name:'Green Dragon Wyrmling',cr:2,size:'Medium',type:'dragon',ac:17,hp:38,speed:'30 ft, fly 60 ft, swim 30 ft',str:15,dex:12,con:13,int:14,wis:11,cha:13,savingThrows:'Dex +3, Con +3, Wis +2, Cha +3',skills:'Perception +4, Stealth +3',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Blindsight 10 ft, Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Bite',t:'+4 to hit, 1d10+2 piercing + 1d4 poison.'},{n:'Poison Breath (Recharge 5-6)',t:'15 ft cone. DC 11 Con or 5d6 poison; half on save.'}]},
  {name:'Griffon',cr:2,size:'Large',type:'monstrosity',ac:12,hp:59,speed:'30 ft, fly 80 ft',str:18,dex:15,con:16,int:2,wis:13,cha:8,skills:'Perception +5',senses:'Darkvision 60 ft, Passive Perception 15',abilities:[{n:'Keen Sight',t:'Advantage on Perception relying on sight.'}],actions:[{n:'Multiattack',t:'Beak and Claws.'},{n:'Beak',t:'+6 to hit, 1d8+4 piercing.'},{n:'Claws',t:'+6 to hit, 2d6+4 slashing.'}]},
  {name:'Hunter Shark',cr:2,size:'Large',type:'beast',ac:12,hp:45,speed:'0 ft, swim 40 ft',str:18,dex:13,con:15,int:1,wis:10,cha:4,skills:'Perception +2',senses:'Blindsight 30 ft, Passive Perception 12',abilities:[{n:'Blood Frenzy',t:'Advantage on attacks against bleeding creatures.'},{n:'Water Breathing',t:'Can breathe only underwater.'}],actions:[{n:'Bite',t:'+6 to hit, 2d8+4 piercing.'}]},
  {name:'Intellect Devourer',cr:2,size:'Tiny',type:'aberration',ac:12,hp:21,speed:'40 ft',str:6,dex:14,con:13,int:12,wis:11,cha:10,dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['blinded'],senses:'Blindsight 60 ft, Passive Perception 10',actions:[{n:'Multiattack',t:'Two Claws attacks.'},{n:'Claws',t:'+4 to hit, 1d6+2 slashing.'},{n:'Devour Intellect',t:'DC 12 Int or 2d10 psychic; 0 Int = stunned.'},{n:'Body Thief',t:'Stunned humanoid: DC 12 Str to take control.'}]},
  {name:'Merrow',cr:2,size:'Large',type:'monstrosity',ac:13,hp:45,speed:'10 ft, swim 40 ft',str:18,dex:10,con:15,int:8,wis:10,cha:9,senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+6 to hit, 1d8+4 piercing.'},{n:'Claws',t:'+6 to hit, 2d4+4 slashing. Grappled DC 14 Str.'}]},
  {name:'Mimic',cr:2,size:'Medium',type:'monstrosity',ac:12,hp:58,speed:'15 ft',str:17,dex:12,con:15,int:5,wis:13,cha:8,skills:'Stealth +5',condImmune:['prone'],dmgImmune:['acid'],senses:'Darkvision 60 ft, Passive Perception 11',abilities:[{n:'Shapechanger',t:'Can polymorph into an object up to 5x5 ft.'},{n:'Adhesive (Object form)',t:'Creatures touching it are grappled DC 13 Str.'},{n:'False Appearance (Object form)',t:'Indistinguishable from a normal object.'},{n:'Grappler',t:'Advantage on attacks vs grappled creatures.'}],actions:[{n:'Pseudopod',t:'+5 to hit, 1d8+3 bludgeoning. Grappled DC 13 Str.'},{n:'Bite',t:'+5 to hit, 1d8+3 piercing + 1d8 acid.'}]},
  {name:'Nothic',cr:2,size:'Medium',type:'aberration',ac:15,hp:45,speed:'30 ft',str:14,dex:16,con:16,int:13,wis:10,cha:8,skills:'Arcana +3, Insight +4, Perception +2, Stealth +5',senses:'Truesight 120 ft, Passive Perception 12',abilities:[{n:'Keen Sight',t:'Advantage on Perception relying on sight.'}],actions:[{n:'Multiattack',t:'Two Claw attacks.'},{n:'Claw',t:'+4 to hit, 1d6+3 slashing.'},{n:'Rotting Gaze',t:'Target within 30 ft, DC 12 Con or 3d6 necrotic.'},{n:'Weird Insight',t:'Insight vs target\'s Deception; on success, learn a secret.'}]},
  {name:'Ochre Jelly',cr:2,size:'Large',type:'ooze',ac:8,hp:45,speed:'10 ft, climb 10 ft',str:15,dex:6,con:14,int:2,wis:6,cha:1,dmgImmune:['lightning','slashing'],condImmune:['blinded','charmed','deafened','exhaustion','frightened','prone'],senses:'Blindsight 60 ft, Passive Perception 8',abilities:[{n:'Amorphous',t:'Can squeeze through 1-inch gaps.'},{n:'Spider Climb',t:'Can climb difficult surfaces.'}],actions:[{n:'Pseudopod',t:'+4 to hit, 2d6+2 bludgeoning + 1d6 acid.'},{n:'Split',t:'When hit by lightning or slashing: if 10+ HP, splits into two smaller jellies.'}]},
  {name:'Ogre',cr:2,size:'Large',type:'giant',ac:11,hp:59,speed:'40 ft',str:19,dex:8,con:16,int:5,wis:7,cha:7,senses:'Darkvision 60 ft, Passive Perception 8',actions:[{n:'Greatclub',t:'+6 to hit, 2d8+4 bludgeoning.'},{n:'Javelin',t:'+6 to hit, 30/120 ft, 2d6+4 piercing.'}]},
  {name:'Pegasus',cr:2,size:'Large',type:'celestial',ac:12,hp:59,speed:'60 ft, fly 90 ft',str:18,dex:15,con:16,int:10,wis:15,cha:13,savingThrows:'Dex +4, Wis +4, Cha +3',skills:'Perception +6',senses:'Passive Perception 16',actions:[{n:'Hooves',t:'+6 to hit, 2d6+4 bludgeoning.'}]},
  {name:'Peryton',cr:2,size:'Medium',type:'monstrosity',ac:13,hp:33,speed:'20 ft, fly 60 ft',str:16,dex:12,con:13,int:9,wis:12,cha:10,skills:'Perception +5',senses:'Passive Perception 15',abilities:[{n:'Dive Attack',t:'If flying and dives 30+ ft before hitting with Horns, +9 damage.'}],actions:[{n:'Gore',t:'+5 to hit, 1d8+3 piercing.'},{n:'Talons',t:'+5 to hit, 2d4+3 slashing.'}]},
  {name:'Polar Bear',cr:2,size:'Large',type:'beast',ac:12,hp:42,speed:'40 ft, swim 30 ft',str:20,dex:10,con:16,int:2,wis:13,cha:7,skills:'Perception +3',senses:'Passive Perception 13',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+7 to hit, 1d8+5 piercing.'},{n:'Claws',t:'+7 to hit, 2d6+5 slashing.'}]},
  {name:'Priest',cr:2,size:'Medium',type:'humanoid',ac:13,hp:27,speed:'30 ft',str:10,dex:10,con:12,int:13,wis:16,cha:13,skills:'Medicine +7, Persuasion +3, Religion +4',senses:'Passive Perception 13',spellcaster:true,abilities:[{n:'Divine Eminence',t:'Bonus action: expend spell slot for +10d6 radiant on next weapon hit.'},{n:'Spellcasting',t:'5th-level Wis spellcaster; save DC 13. Cantrips: Sacred Flame, Thaumaturgy. 1st: Cure Wounds, Guiding Bolt. 2nd: Lesser Restoration, Spiritual Weapon. 3rd: Dispel Magic, Spirit Guardians.'}],actions:[{n:'Mace',t:'+2 to hit, 1d6 bludgeoning.'}]},
  {name:'Red Dragon Wyrmling',cr:4,size:'Medium',type:'dragon',ac:17,hp:75,speed:'30 ft, climb 30 ft, fly 60 ft',str:19,dex:10,con:17,int:12,wis:11,cha:15,savingThrows:'Dex +2, Con +5, Wis +2, Cha +4',skills:'Perception +4, Stealth +2',dmgImmune:['fire'],senses:'Blindsight 10 ft, Darkvision 60 ft, Passive Perception 14',actions:[{n:'Bite',t:'+6 to hit, 1d10+4 piercing + 1d6 fire.'},{n:'Fire Breath (Recharge 5-6)',t:'15 ft cone. DC 13 Dex or 7d6 fire; half on save.'}]},
  {name:'Rhinoceros',cr:2,size:'Large',type:'beast',ac:11,hp:45,speed:'40 ft',str:21,dex:8,con:15,int:2,wis:12,cha:6,senses:'Passive Perception 11',abilities:[{n:'Charge',t:'Move 20 ft and Gore hit: DC 15 Str or knocked prone; extra 2d8+5 damage.'}],actions:[{n:'Gore',t:'+7 to hit, 2d8+5 bludgeoning.'}]},
  {name:'Saber-Toothed Tiger',cr:2,size:'Large',type:'beast',ac:12,hp:52,speed:'40 ft',str:18,dex:14,con:15,int:3,wis:12,cha:8,skills:'Perception +3, Stealth +6',senses:'Passive Perception 13',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'},{n:'Pounce',t:'Move 20 ft and Claw hit: DC 14 Str or prone; Bite as bonus action.'}],actions:[{n:'Bite',t:'+6 to hit, 1d10+4 piercing.'},{n:'Claw',t:'+6 to hit, 1d6+4 slashing.'}]},
  {name:'Sea Hag',cr:2,size:'Medium',type:'fey',ac:14,hp:52,speed:'30 ft, swim 40 ft',str:16,dex:13,con:16,int:12,wis:12,cha:13,senses:'Darkvision 60 ft, Passive Perception 11',abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Horrific Appearance',t:'Humanoids within 30 ft, DC 11 Wis or frightened 1 minute.'}],actions:[{n:'Claws',t:'+5 to hit, 2d6+3 slashing.'},{n:'Death Glare',t:'Frightened target within 30 ft, DC 11 Wis or drops to 0 HP.'},{n:'Illusory Appearance',t:'Disguises self as a humanoid.'}]},
  {name:'White Dragon Wyrmling',cr:2,size:'Medium',type:'dragon',ac:16,hp:32,speed:'30 ft, burrow 15 ft, fly 60 ft, swim 30 ft',str:14,dex:10,con:14,int:5,wis:10,cha:11,savingThrows:'Dex +2, Con +4, Wis +2, Cha +2',skills:'Perception +4, Stealth +2',dmgImmune:['cold'],senses:'Blindsight 10 ft, Darkvision 60 ft, Passive Perception 14',actions:[{n:'Bite',t:'+4 to hit, 1d10+2 piercing + 1d4 cold.'},{n:'Cold Breath (Recharge 5-6)',t:'15 ft cone. DC 12 Con or 3d8 cold; half on save.'}]},
  // CR 3
  {name:'Ankheg',cr:2,size:'Large',type:'monstrosity',ac:14,hp:39,speed:'30 ft, burrow 10 ft',str:17,dex:11,con:13,int:1,wis:13,cha:6,senses:'Darkvision 60 ft, Tremorsense 60 ft, Passive Perception 11',actions:[{n:'Bite',t:'+5 to hit, 2d6+3 piercing + 1d6 acid. Grappled DC 13 Str.'},{n:'Acid Spray (Recharge 6)',t:'30 ft line DC 13 Dex or 3d6 acid; half on save.'}]},
  {name:'Basilisk',cr:3,size:'Medium',type:'monstrosity',ac:15,hp:52,speed:'20 ft',str:16,dex:8,con:15,int:2,wis:8,cha:7,senses:'Darkvision 60 ft, Passive Perception 9',abilities:[{n:'Petrifying Gaze',t:'DC 12 Con or restrained; fail again: petrified 24 hours.'}],actions:[{n:'Bite',t:'+5 to hit, 2d6+3 piercing + 2d6 poison.'}]},
  {name:'Blue Dragon Wyrmling',cr:3,size:'Medium',type:'dragon',ac:17,hp:52,speed:'30 ft, burrow 15 ft, fly 60 ft',str:17,dex:10,con:15,int:12,wis:11,cha:15,savingThrows:'Dex +2, Con +4, Wis +2, Cha +4',skills:'Perception +4, Stealth +2',dmgImmune:['lightning'],senses:'Blindsight 10 ft, Darkvision 60 ft, Passive Perception 14',actions:[{n:'Bite',t:'+5 to hit, 1d10+3 piercing + 1d6 lightning.'},{n:'Lightning Breath (Recharge 5-6)',t:'30 ft line. DC 12 Dex or 4d10 lightning; half on save.'}]},
  {name:'Doppelganger',cr:3,size:'Medium',type:'monstrosity',ac:14,hp:52,speed:'30 ft',str:11,dex:18,con:14,int:11,wis:12,cha:14,skills:'Deception +6, Insight +3',condImmune:['charmed'],senses:'Darkvision 60 ft, Passive Perception 11',abilities:[{n:'Shapechanger',t:'Can polymorph into any Medium humanoid.'},{n:'Surprise Attack',t:'If surprises and hits, DC 13 Con or stunned until end of next turn.'}],actions:[{n:'Multiattack',t:'Two Slam attacks.'},{n:'Slam',t:'+6 to hit, 1d6+4 bludgeoning.'},{n:'Read Thoughts',t:'DC 11 Wis or read surface thoughts 1 minute.'}]},
  {name:'Green Hag',cr:3,size:'Medium',type:'fey',ac:17,hp:82,speed:'30 ft, swim 30 ft',str:18,dex:12,con:16,int:13,wis:14,cha:14,skills:'Arcana +3, Deception +4, Perception +4, Stealth +3',senses:'Darkvision 60 ft, Passive Perception 14',spellcaster:true,abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Innate Spellcasting',t:'At will: Dancing Lights, Minor Illusion, Vicious Mockery.'},{n:'Mimicry',t:'Can mimic animal sounds and human voices.'}],actions:[{n:'Claws',t:'+6 to hit, 2d8+4 slashing.'},{n:'Illusory Appearance',t:'Covers self with illusion.'},{n:'Invisible Passage',t:'Becomes invisible until a spell is cast.'}]},
  {name:'Hook Horror',cr:3,size:'Large',type:'monstrosity',ac:15,hp:75,speed:'30 ft, climb 30 ft',str:18,dex:10,con:15,int:6,wis:12,cha:7,skills:'Perception +3',senses:'Blindsight 60 ft, Passive Perception 13',abilities:[{n:'Echolocation',t:'Cannot use blindsight while deafened.'},{n:'Keen Hearing',t:'Advantage on Perception relying on hearing.'}],actions:[{n:'Multiattack',t:'Two Hook attacks.'},{n:'Hook',t:'+6 to hit, 2d6+4 piercing.'}]},
  {name:'Knight',cr:3,size:'Medium',type:'humanoid',ac:18,hp:52,speed:'30 ft',str:16,dex:11,con:14,int:11,wis:11,cha:15,savingThrows:'Con +4, Wis +2',senses:'Passive Perception 10',abilities:[{n:'Brave',t:'Advantage on saves vs frightened.'}],actions:[{n:'Multiattack',t:'Two Greatsword attacks.'},{n:'Greatsword',t:'+5 to hit, 2d6+3 slashing.'},{n:'Heavy Crossbow',t:'+2 to hit, 100/400 ft, 1d10 piercing.'},{n:'Leadership (Recharges after Rest)',t:'Allies within 30 ft add 1d4 to attack or save rolls for 1 minute.'}]},
  {name:'Manticore',cr:3,size:'Large',type:'monstrosity',ac:14,hp:68,speed:'30 ft, fly 50 ft',str:17,dex:16,con:17,int:7,wis:12,cha:8,senses:'Darkvision 60 ft, Passive Perception 11',actions:[{n:'Multiattack',t:'Three attacks: Bite, two Claws, or three Tail Spikes.'},{n:'Bite',t:'+5 to hit, 1d8+3 piercing.'},{n:'Claw',t:'+5 to hit, 1d6+3 slashing.'},{n:'Tail Spike',t:'+5 to hit, 100/200 ft, 1d8+3 piercing.'}]},
  {name:'Minotaur',cr:3,size:'Large',type:'monstrosity',ac:14,hp:114,speed:'40 ft',str:18,dex:11,con:16,int:6,wis:16,cha:9,skills:'Perception +7',senses:'Darkvision 60 ft, Passive Perception 17',abilities:[{n:'Charge',t:'Move 10 ft and Horns hit: extra 2d8+4, DC 14 Str or pushed and prone.'},{n:'Reckless',t:'Grant advantage on melee attacks; same for attackers.'}],actions:[{n:'Greataxe',t:'+6 to hit, 2d12+4 slashing.'},{n:'Gore',t:'+6 to hit, 2d8+4 piercing.'}]},
  {name:'Mummy',cr:3,size:'Medium',type:'undead',ac:11,hp:58,speed:'20 ft',str:16,dex:8,con:15,int:6,wis:10,cha:12,savingThrows:'Wis +2',dmgImmune:['necrotic','poison'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','paralyzed','poisoned'],senses:'Darkvision 60 ft, Passive Perception 10',actions:[{n:'Multiattack',t:'Rotting Fist and Dreadful Glare.'},{n:'Rotting Fist',t:'+5 to hit, 2d6+3 bludgeoning + 3d6 necrotic. DC 12 Con or cursed with mummy rot.'},{n:'Dreadful Glare',t:'DC 11 Wis or frightened 1 minute.'}]},
  {name:'Nightmare',cr:3,size:'Large',type:'fiend',ac:13,hp:68,speed:'60 ft, fly 90 ft',str:18,dex:15,con:16,int:10,wis:13,cha:15,dmgImmune:['fire'],senses:'Passive Perception 11',abilities:[{n:'Confer Fire Resistance',t:'Rider immune to fire damage.'}],actions:[{n:'Hooves',t:'+6 to hit, 2d8+4 fire.'}]},
  {name:'Owlbear',cr:3,size:'Large',type:'monstrosity',ac:13,hp:59,speed:'40 ft',str:20,dex:12,con:17,int:3,wis:12,cha:7,skills:'Perception +3',senses:'Darkvision 60 ft, Passive Perception 13',abilities:[{n:'Keen Sight and Smell',t:'Advantage on Perception relying on sight or smell.'}],actions:[{n:'Multiattack',t:'Beak and Claws.'},{n:'Beak',t:'+7 to hit, 1d10+5 piercing.'},{n:'Claws',t:'+7 to hit, 2d8+5 slashing.'}]},
  {name:'Phase Spider',cr:3,size:'Large',type:'monstrosity',ac:13,hp:32,speed:'30 ft, climb 30 ft',str:15,dex:15,con:10,int:6,wis:10,cha:6,skills:'Stealth +6',senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Spider Climb',t:'Can climb difficult surfaces.'},{n:'Web Walker',t:'Ignores web restrictions.'},{n:'Ethereal Jaunt',t:'Bonus action: shift to or from Ethereal Plane.'}],actions:[{n:'Bite',t:'+4 to hit, 1d10+2 piercing + 4d6 poison. DC 11 Con or poisoned 1 hour.'}]},
  {name:'Veteran',cr:3,size:'Medium',type:'humanoid',ac:17,hp:58,speed:'30 ft',str:16,dex:13,con:14,int:10,wis:11,cha:10,skills:'Athletics +5, Perception +2',senses:'Passive Perception 12',actions:[{n:'Multiattack',t:'Two Longsword attacks; if both hit, uses Shortsword.'},{n:'Longsword',t:'+5 to hit, 1d8+3 slashing (1d10+3 two-handed).'},{n:'Shortsword',t:'+5 to hit, 1d6+3 piercing.'},{n:'Heavy Crossbow',t:'+3 to hit, 100/400 ft, 1d10+1 piercing.'}]},
  {name:'Werewolf',cr:3,size:'Medium',type:'humanoid',ac:11,hp:58,speed:'30 ft (40 ft wolf form)',str:15,dex:13,con:14,int:10,wis:11,cha:10,skills:'Perception +4, Stealth +3',dmgImmune:['bludgeoning','piercing','slashing from nonmagical non-silvered'],senses:'Passive Perception 14',abilities:[{n:'Shapechanger',t:'Can polymorph into wolf-humanoid hybrid or wolf.'},{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'}],actions:[{n:'Multiattack (Hybrid)',t:'Bite and Claws.'},{n:'Bite (Wolf/Hybrid)',t:'+4 to hit, 2d6+2 piercing. DC 12 Con or cursed with lycanthropy.'},{n:'Claws (Hybrid)',t:'+4 to hit, 2d4+2 slashing.'}]},
  {name:'Winter Wolf',cr:3,size:'Large',type:'monstrosity',ac:13,hp:75,speed:'50 ft',str:18,dex:13,con:14,int:7,wis:12,cha:8,skills:'Perception +5, Stealth +3',dmgImmune:['cold'],senses:'Passive Perception 15',abilities:[{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'},{n:'Snow Camouflage',t:'Advantage on Stealth in snowy terrain.'}],actions:[{n:'Bite',t:'+6 to hit, 2d6+4 piercing. DC 14 Str or knocked prone.'},{n:'Cold Breath (Recharge 5-6)',t:'15 ft cone. DC 12 Dex or 4d8 cold; half on save.'}]},
  // CR 4
  {name:'Banshee',cr:4,size:'Medium',type:'undead',ac:12,hp:58,speed:'0 ft, fly 40 ft (hover)',str:1,dex:14,con:10,int:12,wis:11,cha:17,dmgImmune:['cold','lightning','necrotic','poison'],dmgResist:['acid','fire','thunder','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','grappled','paralyzed','petrified','poisoned','prone','restrained'],savingThrows:'Wis +2, Cha +5',senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Incorporeal Movement',t:'Can pass through objects; 1d10 force if ending inside.'}],actions:[{n:'Corrupting Touch',t:'+4 to hit, 3d6 necrotic.'},{n:'Horrifying Visage',t:'Non-undead within 60 ft, DC 13 Wis or frightened 1 minute.'},{n:'Wail (1/day)',t:'Living creatures within 30 ft, DC 13 Con or drop to 0 HP.'}]},
  {name:'Black Pudding',cr:4,size:'Large',type:'ooze',ac:7,hp:85,speed:'20 ft, climb 20 ft',str:16,dex:5,con:16,int:1,wis:6,cha:1,dmgImmune:['acid','cold','lightning','slashing'],condImmune:['blinded','charmed','deafened','exhaustion','frightened','prone'],senses:'Blindsight 60 ft, Passive Perception 8',abilities:[{n:'Amorphous',t:'Can squeeze through 1-inch gaps.'},{n:'Corrosive Form',t:'Creatures touching it or hitting in melee take 1d8 acid; metal weapons corrode.'},{n:'Spider Climb',t:'Can climb difficult surfaces.'}],actions:[{n:'Pseudopod',t:'+5 to hit, 1d6+3 bludgeoning + 4d8 acid.'},{n:'Split',t:'When hit by lightning or slashing while >=10 HP, splits into two Medium puddings.'}]},
  {name:'Couatl',cr:4,size:'Medium',type:'celestial',ac:19,hp:97,speed:'30 ft, fly 90 ft',str:16,dex:20,con:17,int:18,wis:20,cha:18,savingThrows:'Con +5, Wis +7, Cha +6',dmgResist:['radiant'],dmgImmune:['psychic','bludgeoning','piercing','slashing from non-magic'],senses:'Truesight 120 ft, Passive Perception 15',spellcaster:true,abilities:[{n:'Innate Spellcasting',t:'Wis DC 15. At will: Detect Evil and Good, Detect Magic, Detect Thoughts; 3/day each: Lesser Restoration, Sanctuary; 1/day: Dream.'}],actions:[{n:'Bite',t:'+8 to hit, 1d6+5 piercing. DC 13 Con or poisoned 24 hours; unconscious while poisoned.'},{n:'Constrict',t:'+6 to hit, 2d6+4 bludgeoning. Grappled DC 15 Str, restrained.'}]},
  {name:'Elephant',cr:4,size:'Huge',type:'beast',ac:12,hp:76,speed:'40 ft',str:22,dex:9,con:17,int:3,wis:11,cha:6,senses:'Passive Perception 10',abilities:[{n:'Trampling Charge',t:'Move 20 ft and Gore hit: DC 12 Str or prone; Stomp as bonus action.'}],actions:[{n:'Gore',t:'+8 to hit, 3d8+6 piercing.'},{n:'Stomp',t:'+8 to hit, 3d10+6 bludgeoning. Prone targets only.'}]},
  {name:'Ettin',cr:4,size:'Large',type:'giant',ac:12,hp:85,speed:'40 ft',str:21,dex:8,con:17,int:6,wis:10,cha:8,skills:'Perception +4',senses:'Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Two Heads',t:'Advantage on Perception and Wis saves.'},{n:'Wakeful',t:'When one head sleeps, the other is awake.'}],actions:[{n:'Multiattack',t:'Battleaxe and Morningstar.'},{n:'Battleaxe',t:'+7 to hit, 2d8+5 slashing.'},{n:'Morningstar',t:'+7 to hit, 2d8+5 piercing.'}]},
  {name:'Ghost',cr:4,size:'Medium',type:'undead',ac:11,hp:45,speed:'0 ft, fly 40 ft (hover)',str:7,dex:13,con:10,int:10,wis:12,cha:17,dmgImmune:['cold','necrotic','poison'],dmgResist:['acid','fire','lightning','thunder','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','grappled','paralyzed','petrified','poisoned','prone','restrained'],senses:'Darkvision 60 ft, Passive Perception 11',abilities:[{n:'Ethereal Sight',t:'Can see 60 ft into the Ethereal Plane.'},{n:'Incorporeal Movement',t:'Can pass through objects; 1d10 force if ending inside.'}],actions:[{n:'Withering Touch',t:'+5 to hit, 4d6+3 necrotic.'},{n:'Etherealness',t:'Enters or returns from Ethereal Plane.'},{n:'Horrifying Visage',t:'Non-undead within 60 ft, DC 13 Wis or frightened 1 minute.'},{n:'Possession (Recharge 6)',t:'Humanoid within 5 ft, DC 13 Cha or possessed 24 hours.'}]},
  {name:'Lamia',cr:4,size:'Large',type:'monstrosity',ac:13,hp:97,speed:'30 ft',str:16,dex:13,con:15,int:14,wis:15,cha:16,skills:'Deception +7, Insight +4, Stealth +3',senses:'Darkvision 60 ft, Passive Perception 12',spellcaster:true,abilities:[{n:'Innate Spellcasting',t:'At will: Disguise Self, Major Image; 3/day: Charm Person, Mirror Image, Scrying, Suggestion; 1/day: Geas.'}],actions:[{n:'Multiattack',t:'Claws and Dagger or Corrupting Touch.'},{n:'Claws',t:'+5 to hit, 2d10+3 slashing.'},{n:'Dagger',t:'+5 to hit, 1d4+3 piercing.'},{n:'Corrupting Touch',t:'+5 to hit, 3d6 psychic. Cursed: disadvantage on Wis saves 1 hour.'}]},
  {name:'Succubus/Incubus',cr:4,size:'Medium',type:'fiend',ac:13,hp:66,speed:'30 ft, fly 60 ft',str:8,dex:17,con:13,int:15,wis:12,cha:20,skills:'Deception +9, Insight +5, Perception +5, Persuasion +9, Stealth +7',dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Darkvision 60 ft, Passive Perception 15',abilities:[{n:'Telepathy',t:'Can speak telepathically within 60 ft.'},{n:'Shapechanger',t:'Can polymorph into any Medium humanoid.'}],actions:[{n:'Claw (Fiend Form)',t:'+5 to hit, 1d6+3 slashing + 2d6 psychic.'},{n:'Charm',t:'DC 15 Wis or charmed 24 hours.'},{n:'Draining Kiss',t:'DC 15 Con or max HP reduced by 5d10+5.'},{n:'Etherealness',t:'Shift into Ethereal Plane.'}]},
  // CR 5
  {name:'Air Elemental',cr:5,size:'Large',type:'elemental',ac:15,hp:90,speed:'0 ft, fly 90 ft (hover)',str:14,dex:20,con:14,int:6,wis:10,cha:6,dmgResist:['lightning','thunder','bludgeoning','piercing','slashing from non-magic'],dmgImmune:['poison'],condImmune:['exhaustion','grappled','paralyzed','petrified','poisoned','prone','restrained','unconscious'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Air Form',t:'Can move through 1-inch gaps.'}],actions:[{n:'Multiattack',t:'Two Slam attacks.'},{n:'Slam',t:'+8 to hit, 2d8+5 bludgeoning.'},{n:'Whirlwind (Recharge 4-6)',t:'DC 13 Str or 3d8+5 bludgeoning; Small or smaller flung 20 ft.'}]},
  {name:'Earth Elemental',cr:5,size:'Large',type:'elemental',ac:17,hp:126,speed:'30 ft, burrow 30 ft',str:20,dex:8,con:20,int:5,wis:10,cha:5,dmgVuln:['thunder'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],dmgImmune:['poison'],condImmune:['exhaustion','paralyzed','petrified','poisoned','unconscious'],senses:'Darkvision 60 ft, Tremorsense 60 ft, Passive Perception 10',abilities:[{n:'Earth Glide',t:'Can burrow through earth and stone without disturbing it.'},{n:'Siege Monster',t:'Double damage to objects and structures.'}],actions:[{n:'Multiattack',t:'Two Slam attacks.'},{n:'Slam',t:'+8 to hit, 2d8+5 bludgeoning.'}]},
  {name:'Fire Elemental',cr:5,size:'Large',type:'elemental',ac:13,hp:102,speed:'50 ft',str:10,dex:17,con:16,int:6,wis:10,cha:7,dmgImmune:['fire','poison'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['exhaustion','grappled','paralyzed','petrified','poisoned','prone','restrained','unconscious'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Fire Form',t:'Move through 1-inch gaps; 1d10 fire to anyone touching or hitting in melee.'},{n:'Illumination',t:'Sheds bright light 30 ft, dim light 30 ft further.'},{n:'Water Susceptibility',t:'1 cold per gallon of water splashed on it.'}],actions:[{n:'Multiattack',t:'Two Touch attacks.'},{n:'Touch',t:'+6 to hit, 2d6+3 fire. Target ignites; 1d10 fire/turn until extinguished.'}]},
  {name:'Flesh Golem',cr:5,size:'Medium',type:'construct',ac:9,hp:93,speed:'30 ft',str:19,dex:9,con:18,int:6,wis:10,cha:5,dmgImmune:['lightning','poison','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','paralyzed','petrified','poisoned'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Berserk',t:'At <=40 HP, d6 on turn start: on 6, attacks nearest creature.'},{n:'Lightning Absorption',t:'When hit by lightning, regains HP = damage.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Two Slam attacks.'},{n:'Slam',t:'+7 to hit, 2d8+4 bludgeoning.'}]},
  {name:'Giant Crocodile',cr:5,size:'Huge',type:'beast',ac:14,hp:85,speed:'30 ft, swim 50 ft',str:21,dex:9,con:17,int:2,wis:10,cha:7,skills:'Stealth +5',senses:'Passive Perception 10',abilities:[{n:'Hold Breath',t:'Can hold breath 30 minutes.'}],actions:[{n:'Multiattack',t:'Bite and Tail.'},{n:'Bite',t:'+8 to hit, 3d10+5 piercing. Grappled DC 16 Str, restrained.'},{n:'Tail',t:'+8 to hit, 2d8+5 bludgeoning. DC 16 Str or knocked prone.'}]},
  {name:'Giant Shark',cr:5,size:'Huge',type:'beast',ac:13,hp:126,speed:'0 ft, swim 50 ft',str:23,dex:11,con:21,int:1,wis:10,cha:5,skills:'Perception +3',senses:'Blindsight 60 ft, Passive Perception 13',abilities:[{n:'Blood Frenzy',t:'Advantage on attacks against bleeding creatures.'},{n:'Water Breathing',t:'Can breathe only underwater.'}],actions:[{n:'Bite',t:'+9 to hit, 3d10+6 piercing.'}]},
  {name:'Gladiator',cr:5,size:'Medium',type:'humanoid',ac:16,hp:112,speed:'30 ft',str:18,dex:15,con:16,int:10,wis:12,cha:15,savingThrows:'Str +7, Dex +5, Con +6',skills:'Athletics +10, Intimidation +5',senses:'Passive Perception 11',abilities:[{n:'Brave',t:'Advantage on saves vs frightened.'},{n:'Brute',t:'Extra die of damage on weapon hits.'}],actions:[{n:'Multiattack',t:'Three Spear attacks.'},{n:'Spear',t:'+7 to hit, 2d6+4 piercing (2d8+4 two-handed).'},{n:'Shield Bash',t:'+7 to hit, 2d4+4 bludgeoning. DC 15 Str or knocked prone.'}]},
  {name:'Hill Giant',cr:5,size:'Huge',type:'giant',ac:13,hp:105,speed:'40 ft',str:21,dex:8,con:19,int:5,wis:9,cha:6,skills:'Perception +2',senses:'Passive Perception 12',actions:[{n:'Multiattack',t:'Two Greatclub attacks.'},{n:'Greatclub',t:'+8 to hit, 3d8+5 bludgeoning.'},{n:'Rock',t:'+8 to hit, 60/240 ft, 3d10+5 bludgeoning.'}]},
  {name:'Night Hag',cr:5,size:'Medium',type:'fiend',ac:17,hp:112,speed:'30 ft',str:18,dex:15,con:16,int:16,wis:14,cha:16,skills:'Deception +7, Insight +6, Perception +6, Stealth +6',dmgResist:['cold','fire','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed'],senses:'Darkvision 120 ft, Passive Perception 16',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'Cha DC 14. At will: Detect Magic, Magic Missile; 2/day each: Plane Shift (self), Ray of Enfeeblement, Sleep.'}],actions:[{n:'Claws',t:'+7 to hit, 2d8+4 slashing.'},{n:'Change Shape',t:'Polymorph into any Medium or Small humanoid.'},{n:'Nightmare Haunting (1/day)',t:'Target sleeping creature. DC 12 Wis or cursed; max HP -2d6 per night until 0.'}]},
  {name:'Troll',cr:5,size:'Large',type:'giant',ac:15,hp:84,speed:'30 ft',str:18,dex:13,con:20,int:7,wis:9,cha:7,skills:'Perception +2',senses:'Darkvision 60 ft, Passive Perception 12',abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'},{n:'Regeneration',t:'Regains 10 HP at start of turn unless it took acid or fire damage.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+7 to hit, 1d6+4 piercing.'},{n:'Claw',t:'+7 to hit, 2d6+4 slashing.'}]},
  {name:'Unicorn',cr:5,size:'Large',type:'celestial',ac:12,hp:67,speed:'50 ft',str:18,dex:14,con:15,int:11,wis:17,cha:16,dmgImmune:['poison'],condImmune:['charmed','paralyzed','poisoned'],senses:'Darkvision 60 ft, Passive Perception 13',legendary:true,spellcaster:true,abilities:[{n:'Charge',t:'Move 20 ft and Horn hit: DC 15 Str or prone; extra 3d12.'},{n:'Innate Spellcasting',t:'At will: Detect Evil and Good, Druidcraft, Pass without Trace; 1/day each: Calm Emotions, Dispel Evil and Good, Entangle.'}],actions:[{n:'Multiattack',t:'Hooves and Horn.'},{n:'Hooves',t:'+7 to hit, 2d6+4 bludgeoning.'},{n:'Horn',t:'+7 to hit, 1d8+4 piercing.'},{n:'Healing Touch (3/day)',t:'Restore 2d8+2 HP; cure disease or condition.'}],legendaryActions:[{n:'Hooves',t:'Hooves attack.'},{n:'Shimmering Shield (2)',t:'+2 AC until start of next turn.'},{n:'Heal Self (3)',t:'Regain 2d8+2 HP.'}]},
  {name:'Water Elemental',cr:5,size:'Large',type:'elemental',ac:14,hp:114,speed:'30 ft, swim 90 ft',str:18,dex:14,con:18,int:5,wis:10,cha:8,dmgResist:['acid','bludgeoning','piercing','slashing from non-magic'],dmgImmune:['poison'],condImmune:['exhaustion','grappled','paralyzed','petrified','poisoned','prone','restrained','unconscious'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Water Form',t:'Can move through 1-inch gaps.'},{n:'Freeze',t:'If takes cold damage, speed reduced 20 ft until end of next turn.'}],actions:[{n:'Multiattack',t:'Two Slam attacks.'},{n:'Slam',t:'+7 to hit, 2d8+4 bludgeoning.'},{n:'Whelm (Recharge 4-6)',t:'DC 15 Str or grappled, restrained, begin to suffocate.'}]},
  // CR 6
  {name:'Cyclops',cr:6,size:'Huge',type:'giant',ac:14,hp:138,speed:'40 ft',str:22,dex:11,con:20,int:8,wis:6,cha:9,senses:'Passive Perception 8',abilities:[{n:'Poor Depth Perception',t:'Disadvantage on attacks beyond 30 ft.'}],actions:[{n:'Multiattack',t:'Two Greatclub attacks.'},{n:'Greatclub',t:'+9 to hit, 3d8+6 bludgeoning.'},{n:'Rock',t:'+9 to hit, 60/240 ft, 4d10+6 bludgeoning.'}]},
  {name:'Mage',cr:6,size:'Medium',type:'humanoid',ac:12,hp:40,speed:'30 ft',str:9,dex:14,con:11,int:17,wis:12,cha:11,savingThrows:'Int +6, Wis +4',skills:'Arcana +6, History +6',senses:'Passive Perception 11',spellcaster:true,abilities:[{n:'Spellcasting',t:'9th-level Int wizard; save DC 14. Cantrips: Fire Bolt, Mage Hand. 1st: Mage Armor, Magic Missile, Shield. 2nd: Misty Step. 3rd: Counterspell, Fireball, Fly. 4th: Greater Invisibility, Ice Storm. 5th: Cone of Cold.'}],actions:[{n:'Dagger',t:'+5 to hit, 1d4+2 piercing.'}]},
  {name:'Medusa',cr:6,size:'Medium',type:'monstrosity',ac:15,hp:127,speed:'30 ft',str:10,dex:15,con:16,int:12,wis:13,cha:15,skills:'Deception +5, Insight +4, Perception +4, Stealth +5',senses:'Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Petrifying Gaze',t:'DC 14 Con or restrained; fail again: petrified 24 hours. Looking away: disadvantage on attacks, she has advantage.'}],actions:[{n:'Multiattack',t:'Three attacks: Snake Hair and two Shortswords or two Longbows.'},{n:'Snake Hair',t:'+5 to hit, 1d4+3 piercing + 4d6 poison.'},{n:'Shortsword',t:'+5 to hit, 1d6+3 piercing.'},{n:'Longbow',t:'+5 to hit, 150/600 ft, 1d8+3 piercing.'}]},
  {name:'Wyvern',cr:6,size:'Large',type:'dragon',ac:13,hp:110,speed:'20 ft, fly 80 ft',str:19,dex:10,con:16,int:5,wis:12,cha:6,skills:'Perception +4',senses:'Darkvision 60 ft, Passive Perception 14',actions:[{n:'Multiattack',t:'Bite and Stinger.'},{n:'Bite',t:'+7 to hit, 2d6+4 piercing.'},{n:'Claws',t:'+7 to hit, 2d8+4 slashing.'},{n:'Stinger',t:'+7 to hit, 2d6+4 piercing + 2d6 poison. DC 15 Con or poisoned 1 minute.'}]},
  // CR 7
  {name:'Mind Flayer',cr:7,size:'Medium',type:'aberration',ac:15,hp:71,speed:'30 ft',str:11,dex:12,con:12,int:19,wis:17,cha:17,savingThrows:'Int +7, Wis +6, Cha +6',skills:'Arcana +7, Deception +6, Insight +6, Perception +6, Persuasion +6, Stealth +4',dmgResist:['psychic'],senses:'Darkvision 120 ft, Passive Perception 16',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'Int DC 15. At will: Detect Thoughts, Levitate; 1/day: Dominate Monster, Plane Shift.'}],actions:[{n:'Tentacles',t:'+7 to hit, 2d10+4 psychic. DC 15 Int or stunned until end of next turn.'},{n:'Extract Brain',t:'+7 to hit, stunned humanoid. 10d10 piercing; dies if 0 HP.'},{n:'Mind Blast (Recharge 5-6)',t:'60 ft cone. DC 15 Int or 4d8+4 psychic + stunned 1 minute.'}]},
  {name:'Oni',cr:7,size:'Large',type:'giant',ac:16,hp:110,speed:'30 ft, fly 30 ft',str:19,dex:11,con:16,int:14,wis:12,cha:15,savingThrows:'Dex +3, Con +6, Wis +4, Cha +5',skills:'Arcana +5, Deception +8, Perception +4',dmgResist:['bludgeoning','piercing','slashing from non-magic'],senses:'Darkvision 60 ft, Passive Perception 14',spellcaster:true,abilities:[{n:'Innate Spellcasting',t:'Cha DC 13. At will: Darkness, Invisibility; 1/day each: Charm Person, Cone of Cold, Gaseous Form, Sleep.'},{n:'Magic Weapons',t:'Weapon attacks are magical.'}],actions:[{n:'Multiattack',t:'Claws and Glaive.'},{n:'Claw',t:'+7 to hit, 1d8+4 slashing.'},{n:'Glaive',t:'+7 to hit, 2d10+4 slashing.'},{n:'Change Shape',t:'Polymorph into any Small or Medium humanoid.'}]},
  {name:'Stone Giant',cr:7,size:'Huge',type:'giant',ac:17,hp:126,speed:'40 ft',str:23,dex:15,con:20,int:10,wis:12,cha:9,savingThrows:'Dex +5, Con +8, Wis +4',skills:'Athletics +12, Perception +4',senses:'Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Stone Camouflage',t:'Advantage on Stealth in rocky terrain.'}],actions:[{n:'Multiattack',t:'Two Greatclub attacks.'},{n:'Greatclub',t:'+9 to hit, 3d8+6 bludgeoning.'},{n:'Rock',t:'+9 to hit, 60/240 ft, 4d10+6 bludgeoning. DC 17 Str or knocked prone.'}]},
  {name:'Young Black Dragon',cr:7,size:'Large',type:'dragon',ac:18,hp:127,speed:'40 ft, fly 80 ft, swim 40 ft',str:19,dex:14,con:17,int:12,wis:11,cha:15,savingThrows:'Dex +5, Con +6, Wis +3, Cha +5',skills:'Perception +6, Stealth +5',dmgImmune:['acid'],senses:'Blindsight 30 ft, Darkvision 120 ft, Passive Perception 16',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+7 to hit, 2d10+4 piercing + 1d8 acid.'},{n:'Claw',t:'+7 to hit, 1d6+4 slashing.'},{n:'Acid Breath (Recharge 5-6)',t:'30 ft line. DC 14 Dex or 11d8 acid; half on save.'}]},
  // CR 8
  {name:'Frost Giant',cr:8,size:'Huge',type:'giant',ac:15,hp:138,speed:'40 ft',str:23,dex:9,con:21,int:9,wis:10,cha:12,savingThrows:'Con +8, Wis +3, Cha +4',skills:'Athletics +9, Perception +3',dmgImmune:['cold'],senses:'Passive Perception 13',actions:[{n:'Multiattack',t:'Two Greataxe attacks.'},{n:'Greataxe',t:'+9 to hit, 3d12+6 slashing.'},{n:'Rock',t:'+9 to hit, 60/240 ft, 4d10+6 bludgeoning.'}]},
  {name:'Hydra',cr:8,size:'Huge',type:'monstrosity',ac:15,hp:172,speed:'30 ft, swim 30 ft',str:20,dex:12,con:20,int:2,wis:10,cha:7,skills:'Perception +6',senses:'Darkvision 60 ft, Passive Perception 16',abilities:[{n:'Hold Breath',t:'Can hold breath 1 hour.'},{n:'Multiple Heads',t:'5 heads; advantage on Perception/Wis saves. Severed by 25+ damage in one turn (not fire). Grows 2 back at end of turn.'},{n:'Reactive Heads',t:'Extra reaction per head beyond one.'}],actions:[{n:'Multiattack',t:'One Bite per head.'},{n:'Bite',t:'+8 to hit, 2d6+5 piercing.'}]},
  {name:'Young Green Dragon',cr:8,size:'Large',type:'dragon',ac:18,hp:136,speed:'40 ft, fly 80 ft, swim 40 ft',str:19,dex:12,con:17,int:16,wis:13,cha:15,savingThrows:'Dex +4, Con +6, Wis +4, Cha +5',skills:'Deception +5, Perception +7, Persuasion +5, Stealth +4',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Blindsight 30 ft, Darkvision 120 ft, Passive Perception 17',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+7 to hit, 2d10+4 piercing + 1d8 poison.'},{n:'Claw',t:'+7 to hit, 1d6+4 slashing.'},{n:'Poison Breath (Recharge 5-6)',t:'30 ft cone. DC 14 Con or 12d6 poison; half on save.'}]},
  // CR 9
  {name:'Cloud Giant',cr:9,size:'Huge',type:'giant',ac:14,hp:200,speed:'40 ft, fly 80 ft',str:27,dex:10,con:22,int:12,wis:16,cha:16,savingThrows:'Con +10, Wis +7, Cha +7',skills:'Insight +7, Perception +7',senses:'Passive Perception 17',spellcaster:true,abilities:[{n:'Keen Smell',t:'Advantage on Perception relying on smell.'},{n:'Innate Spellcasting',t:'Cha DC 15. At will: Detect Magic, Fog Cloud; 3/day: Feather Fall, Fly, Misty Step, Telekinesis; 1/day: Control Weather, Gaseous Form.'}],actions:[{n:'Multiattack',t:'Two Morningstar attacks.'},{n:'Morningstar',t:'+12 to hit, 3d8+8 piercing.'},{n:'Rock',t:'+12 to hit, 60/240 ft, 4d10+8 bludgeoning.'}]},
  {name:'Fire Giant',cr:9,size:'Huge',type:'giant',ac:18,hp:162,speed:'30 ft',str:25,dex:9,con:23,int:10,wis:14,cha:13,savingThrows:'Dex +3, Con +10, Wis +6, Cha +5',skills:'Athletics +11, Perception +6',dmgImmune:['fire'],senses:'Passive Perception 16',actions:[{n:'Multiattack',t:'Two Greatsword attacks.'},{n:'Greatsword',t:'+11 to hit, 6d6+7 slashing.'},{n:'Rock',t:'+11 to hit, 60/240 ft, 4d10+7 bludgeoning.'}]},
  {name:'Young Blue Dragon',cr:9,size:'Large',type:'dragon',ac:18,hp:152,speed:'40 ft, burrow 20 ft, fly 80 ft',str:21,dex:10,con:19,int:14,wis:13,cha:17,savingThrows:'Dex +4, Con +8, Wis +5, Cha +7',skills:'Perception +9, Stealth +4',dmgImmune:['lightning'],senses:'Blindsight 30 ft, Darkvision 120 ft, Passive Perception 19',actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+9 to hit, 2d10+5 piercing + 1d10 lightning.'},{n:'Claw',t:'+9 to hit, 1d6+5 slashing.'},{n:'Lightning Breath (Recharge 5-6)',t:'60 ft line. DC 16 Dex or 10d10 lightning; half on save.'}]},
  // CR 10
  {name:'Aboleth',cr:10,size:'Large',type:'aberration',ac:17,hp:135,speed:'10 ft, swim 40 ft',str:21,dex:9,con:15,int:18,wis:15,cha:18,savingThrows:'Con +6, Int +8, Wis +6',skills:'History +12, Perception +10',senses:'Darkvision 120 ft, Passive Perception 20',legendary:true,abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Mucous Cloud',t:'Touch: DC 14 Con or need to breathe water 3 hours.'},{n:'Probing Telepathy',t:'Learns surface thoughts of anyone it converses with.'}],actions:[{n:'Multiattack',t:'Three Tentacle attacks.'},{n:'Tentacle',t:'+9 to hit, 2d6+5 bludgeoning. Grappled/restrained; DC 14 Con or diseased.'},{n:'Tail',t:'+9 to hit, 3d6+5 bludgeoning.'},{n:'Enslave (3/day)',t:'DC 14 Wis or charmed 24 hours.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Swipe',t:'Tail attack.'},{n:'Psychic Drain (2)',t:'Charmed target: 3d6 psychic, aboleth regains same HP.'}]},
  {name:'Young Red Dragon',cr:10,size:'Large',type:'dragon',ac:18,hp:178,speed:'40 ft, climb 40 ft, fly 80 ft',str:23,dex:10,con:21,int:14,wis:11,cha:19,savingThrows:'Dex +4, Con +9, Wis +4, Cha +8',skills:'Perception +8, Stealth +4',dmgImmune:['fire'],senses:'Blindsight 30 ft, Darkvision 120 ft, Passive Perception 18',actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+10 to hit, 2d10+6 piercing + 2d6 fire.'},{n:'Claw',t:'+10 to hit, 1d6+6 slashing.'},{n:'Fire Breath (Recharge 5-6)',t:'30 ft cone. DC 17 Dex or 16d6 fire; half on save.'}]},
  // CR 13
  {name:'Beholder',cr:13,size:'Large',type:'aberration',ac:18,hp:180,speed:'0 ft, fly 20 ft (hover)',str:10,dex:14,con:18,int:17,wis:15,cha:17,savingThrows:'Int +8, Wis +7, Cha +8',skills:'Perception +12',condImmune:['prone'],senses:'Darkvision 120 ft, Passive Perception 22',legendary:true,abilities:[{n:'Antimagic Cone',t:'Central eye: 150 ft cone of antimagic. Spells fail, magic items suppressed.'},{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Bite',t:'+5 to hit, 4d6+2 piercing.'},{n:'Eye Rays (3/turn)',t:'Three random rays (roll 1d10): 1-Charm, 2-Paralyze, 3-Fear, 4-Slow, 5-Enervate, 6-Telekinesis, 7-Sleep, 8-Petrify, 9-Disintegrate, 10-Death. All DC 16.'}],legendaryActions:[{n:'Eye Ray',t:'One eye ray.'}]},
  {name:'Vampire',cr:13,size:'Medium',type:'undead',ac:16,hp:144,speed:'30 ft',str:18,dex:18,con:18,int:17,wis:15,cha:18,savingThrows:'Dex +9, Wis +7, Cha +9',skills:'Perception +7, Stealth +9',dmgResist:['necrotic','bludgeoning','piercing','slashing from non-magic'],senses:'Darkvision 120 ft, Passive Perception 17',legendary:true,abilities:[{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'},{n:'Misty Escape',t:'At 0 HP, transforms to mist if not in sunlight or running water.'},{n:'Regeneration',t:'Regains 20 HP at start of turn if not in sunlight or running water.'},{n:'Spider Climb',t:'Can climb difficult surfaces.'},{n:'Vampire Weaknesses',t:'Harmed by garlic, holy symbols, running water, sunlight, wooden stake.'}],actions:[{n:'Multiattack',t:'Unarmed Strike and Bite.'},{n:'Unarmed Strike',t:'+9 to hit, 1d8+4 bludgeoning. Grappled DC 18 Str.'},{n:'Bite',t:'+9 to hit, 1d6+4 piercing + 3d6 necrotic. Max HP reduced; vampire regains that HP.'},{n:'Charm',t:'DC 17 Wis or charmed 24 hours.'},{n:'Children of the Night (1/day)',t:'Summon 2d4 swarms of bats, rats, or wolves.'}],legendaryActions:[{n:'Move',t:'Move without provoking opportunity attacks.'},{n:'Unarmed Strike',t:'Melee attack.'},{n:'Bite (2)',t:'Bite attack.'}]},
  // CR 14-17 Adult Dragons
  {name:'Adult Black Dragon',cr:14,size:'Huge',type:'dragon',ac:19,hp:195,speed:'40 ft, fly 80 ft, swim 40 ft',str:23,dex:14,con:21,int:14,wis:13,cha:17,savingThrows:'Dex +7, Con +10, Wis +6, Cha +8',skills:'Perception +11, Stealth +7',dmgImmune:['acid'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 21',legendary:true,abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+11 to hit, 2d10+6 piercing + 2d8 acid.'},{n:'Claw',t:'+11 to hit, 2d6+6 slashing.'},{n:'Tail',t:'+11 to hit, 2d8+6 bludgeoning.'},{n:'Acid Breath (Recharge 5-6)',t:'60 ft line. DC 18 Dex or 15d8 acid; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 19 Str or 2d6+6 bludgeoning and knocked prone.'}]},
  {name:'Adult White Dragon',cr:13,size:'Huge',type:'dragon',ac:18,hp:200,speed:'40 ft, burrow 30 ft, fly 80 ft, swim 40 ft',str:22,dex:10,con:22,int:8,wis:12,cha:12,savingThrows:'Dex +5, Con +11, Wis +6, Cha +6',skills:'Perception +11, Stealth +5',dmgImmune:['cold'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 21',legendary:true,abilities:[{n:'Ice Walk',t:'Move across icy surfaces without check.'},{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+11 to hit, 2d10+6 piercing + 2d8 cold.'},{n:'Claw',t:'+11 to hit, 2d6+6 slashing.'},{n:'Cold Breath (Recharge 5-6)',t:'60 ft cone. DC 19 Con or 16d8 cold; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 19 Str or 2d6+6 and knocked prone.'}]},
  {name:'Adult Green Dragon',cr:15,size:'Huge',type:'dragon',ac:19,hp:207,speed:'40 ft, fly 80 ft, swim 40 ft',str:23,dex:12,con:21,int:18,wis:15,cha:17,savingThrows:'Dex +6, Con +10, Wis +7, Cha +8',skills:'Deception +8, Insight +7, Perception +12, Persuasion +8, Stealth +6',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 22',legendary:true,abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+11 to hit, 2d10+6 piercing + 2d8 poison.'},{n:'Claw',t:'+11 to hit, 2d6+6 slashing.'},{n:'Poison Breath (Recharge 5-6)',t:'60 ft cone. DC 18 Con or 16d6 poison; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 19 Str or 2d6+6 and knocked prone.'}]},
  {name:'Adult Blue Dragon',cr:16,size:'Huge',type:'dragon',ac:19,hp:225,speed:'40 ft, burrow 30 ft, fly 80 ft',str:25,dex:10,con:23,int:16,wis:15,cha:19,savingThrows:'Dex +5, Con +11, Wis +7, Cha +9',skills:'Perception +12, Stealth +5',dmgImmune:['lightning'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 22',legendary:true,abilities:[{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+12 to hit, 2d10+7 piercing + 2d10 lightning.'},{n:'Claw',t:'+12 to hit, 2d6+7 slashing.'},{n:'Lightning Breath (Recharge 5-6)',t:'90 ft line. DC 19 Dex or 16d10 lightning; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 20 Dex or 2d6+7 bludgeoning and knocked prone.'}]},
  {name:'Adult Red Dragon',cr:17,size:'Huge',type:'dragon',ac:19,hp:256,speed:'40 ft, climb 40 ft, fly 80 ft',str:27,dex:10,con:25,int:16,wis:13,cha:21,savingThrows:'Dex +6, Con +13, Wis +7, Cha +11',skills:'Perception +13, Stealth +6',dmgImmune:['fire'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 23',legendary:true,abilities:[{n:'Legendary Resistance (3/day)',t:'If fails a saving throw, chooses to succeed instead.'}],actions:[{n:'Multiattack',t:'One Bite and two Claw attacks.'},{n:'Bite',t:'+14 to hit, 2d10+8 piercing + 4d6 fire.'},{n:'Claw',t:'+14 to hit, 2d6+8 slashing.'},{n:'Fire Breath (Recharge 5-6)',t:'60 ft cone. DC 21 Dex or 18d6 fire; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'+14 hit, 2d8+8 bludgeoning.'},{n:'Wing Attack (2)',t:'DC 22 Dex or 2d6+8 bludgeoning, knocked prone.'}]},
  // CR 19
  {name:'Balor',cr:19,size:'Huge',type:'fiend',ac:19,hp:262,speed:'40 ft, fly 80 ft',str:26,dex:15,con:22,int:20,wis:16,cha:22,savingThrows:'Str +14, Con +12, Wis +9, Cha +12',skills:'Perception +9',dmgImmune:['fire','poison'],dmgResist:['cold','lightning','bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],senses:'Truesight 120 ft, Passive Perception 19',abilities:[{n:'Death Throes',t:'On death: explodes. DC 20 Dex or 20d6 fire; half on save.'},{n:'Fire Aura',t:'Start of each turn: 10 ft radius, 3d6 fire.'},{n:'Magic Resistance',t:'Advantage on saving throws vs spells.'}],actions:[{n:'Multiattack',t:'Vorpal Sword and Whip.'},{n:'Vorpal Sword',t:'+14 to hit, 3d8+8 slashing + 3d8 lightning.'},{n:'Whip',t:'+14 to hit, 2d6+8 slashing + 3d6 fire. DC 20 Str or pulled 25 ft.'}]},
  {name:'Pit Fiend',cr:20,size:'Large',type:'fiend',ac:19,hp:300,speed:'30 ft, fly 60 ft',str:26,dex:14,con:24,int:22,wis:18,cha:24,savingThrows:'Dex +8, Con +13, Wis +10, Cha +13',skills:'Perception +10',dmgImmune:['fire','poison'],dmgResist:['cold','bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],senses:'Truesight 120 ft, Passive Perception 20',spellcaster:true,abilities:[{n:'Fear Aura',t:'Creatures within 20 ft, DC 21 Wis or frightened until start of their next turn.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Magic Weapons',t:'Weapon attacks are magical.'},{n:'Innate Spellcasting',t:'At will: Detect Magic, Fireball; 3/day: Hold Monster, Wall of Fire.'}],actions:[{n:'Multiattack',t:'Bite, Claw, Mace, Tail.'},{n:'Bite',t:'+14 to hit, 4d6+8 piercing + 6d6 poison. DC 21 Con or poisoned 1 minute.'},{n:'Claw',t:'+14 to hit, 2d10+8 slashing.'},{n:'Mace',t:'+14 to hit, 2d6+8 bludgeoning + 2d8 fire.'},{n:'Tail',t:'+14 to hit, 2d6+8 bludgeoning.'}]},
  // Ancient Dragons
  {name:'Ancient White Dragon',cr:20,size:'Gargantuan',type:'dragon',ac:20,hp:333,speed:'40 ft, burrow 40 ft, fly 80 ft, swim 40 ft',str:26,dex:10,con:26,int:10,wis:13,cha:14,savingThrows:'Dex +6, Con +14, Wis +7, Cha +8',skills:'Perception +13, Stealth +6',dmgImmune:['cold'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 23',legendary:true,abilities:[{n:'Ice Walk',t:'Move across icy surfaces without check.'},{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws (can use Frightful Presence).'},{n:'Bite',t:'+14 to hit, 2d10+8 piercing + 3d8 cold.'},{n:'Claw',t:'+14 to hit, 2d6+8 slashing.'},{n:'Frightful Presence',t:'120 ft. DC 16 Wis or frightened 1 minute.'},{n:'Cold Breath (Recharge 5-6)',t:'90 ft cone. DC 22 Con or 16d8 cold; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 22 Str or 2d6+8 and knocked prone.'}]},
  {name:'Ancient Black Dragon',cr:21,size:'Gargantuan',type:'dragon',ac:22,hp:367,speed:'40 ft, fly 80 ft, swim 40 ft',str:27,dex:14,con:25,int:16,wis:15,cha:19,savingThrows:'Dex +9, Con +14, Wis +9, Cha +11',skills:'Perception +16, Stealth +9',dmgImmune:['acid'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 26',legendary:true,abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws (can use Frightful Presence).'},{n:'Bite',t:'+15 to hit, 2d10+8 piercing + 4d8 acid.'},{n:'Claw',t:'+15 to hit, 2d6+8 slashing.'},{n:'Frightful Presence',t:'120 ft. DC 19 Wis or frightened 1 minute.'},{n:'Acid Breath (Recharge 5-6)',t:'90 ft line. DC 22 Dex or 15d8 acid; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 23 Str or 2d6+8 and knocked prone.'}]},
  {name:'Ancient Green Dragon',cr:22,size:'Gargantuan',type:'dragon',ac:21,hp:385,speed:'40 ft, fly 80 ft, swim 40 ft',str:27,dex:12,con:25,int:20,wis:17,cha:19,savingThrows:'Dex +8, Con +14, Wis +10, Cha +11',skills:'Deception +11, Insight +10, Perception +17, Persuasion +11, Stealth +8',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 27',legendary:true,abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claw attacks.'},{n:'Bite',t:'+15 to hit, 2d10+8 piercing + 4d6 poison.'},{n:'Poison Breath (Recharge 5-6)',t:'90 ft cone. DC 22 Con or 22d6 poison; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'+15 hit.'},{n:'Wing Attack (2)',t:'DC 23 Dex or knocked prone.'}]},
  {name:'Ancient Blue Dragon',cr:23,size:'Gargantuan',type:'dragon',ac:22,hp:481,speed:'40 ft, burrow 40 ft, fly 80 ft',str:29,dex:10,con:27,int:18,wis:17,cha:21,savingThrows:'Dex +7, Con +15, Wis +10, Cha +12',skills:'Perception +17, Stealth +7',dmgImmune:['lightning'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 27',legendary:true,abilities:[{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws (can use Frightful Presence).'},{n:'Bite',t:'+16 to hit, 2d10+9 piercing + 4d10 lightning.'},{n:'Claw',t:'+16 to hit, 2d6+9 slashing.'},{n:'Frightful Presence',t:'120 ft. DC 20 Wis or frightened 1 minute.'},{n:'Lightning Breath (Recharge 5-6)',t:'120 ft line. DC 23 Dex or 16d10 lightning; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 24 Str or 2d6+9 and knocked prone.'}]},
  {name:'Ancient Red Dragon',cr:24,size:'Gargantuan',type:'dragon',ac:22,hp:546,speed:'40 ft, climb 40 ft, fly 80 ft',str:30,dex:10,con:29,int:18,wis:15,cha:23,savingThrows:'Dex +7, Con +16, Wis +9, Cha +13',skills:'Perception +16, Stealth +7',dmgImmune:['fire'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 26',legendary:true,abilities:[{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'}],actions:[{n:'Multiattack',t:'Bite and two Claws (can use Frightful Presence).'},{n:'Bite',t:'+17 to hit, 2d10+10 piercing + 4d6 fire.'},{n:'Claw',t:'+17 to hit, 2d6+10 slashing.'},{n:'Frightful Presence',t:'120 ft. DC 21 Wis or frightened 1 minute.'},{n:'Fire Breath (Recharge 5-6)',t:'90 ft cone. DC 24 Dex or 26d6 fire; half on save.'}],legendaryActions:[{n:'Detect',t:'Perception check.'},{n:'Tail Attack',t:'Tail attack.'},{n:'Wing Attack (2)',t:'DC 25 Str or 2d6+10 and knocked prone.'}]},
  // CR 21+
  {name:'Lich',cr:21,size:'Medium',type:'undead',ac:17,hp:135,speed:'30 ft',str:11,dex:16,con:16,int:20,wis:14,cha:16,savingThrows:'Con +10, Int +12, Wis +9',skills:'Arcana +19, History +12, Insight +9, Perception +9',dmgImmune:['cold','lightning','necrotic','poison'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','paralyzed','poisoned'],senses:'Truesight 120 ft, Passive Perception 19',legendary:true,spellcaster:true,abilities:[{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'},{n:'Rejuvenation',t:'If destroyed and has phylactery, regains a body in 1d10 days.'},{n:'Spellcasting',t:'18th-level wizard; spell save DC 20. Includes: Fireball, Counterspell, Plane Shift, Power Word Kill.'}],actions:[{n:'Paralyzing Touch',t:'+8 to hit, 3d6 cold. DC 18 Con or paralyzed 1 minute.'},{n:'Frightening Gaze',t:'DC 18 Wis or frightened 1 minute.'}],legendaryActions:[{n:'Cantrip',t:'Cast a cantrip.'},{n:'Paralyzing Touch (2)',t:'Paralyzing Touch.'},{n:'Frightening Gaze (2)',t:'Frightening Gaze.'},{n:'Disrupt Life (3)',t:'All living creatures within 20 ft, DC 18 Con or 6d6 necrotic.'}]},
  {name:'Solar',cr:21,size:'Large',type:'celestial',ac:21,hp:243,speed:'50 ft, fly 150 ft',str:26,dex:22,con:26,int:25,wis:25,cha:30,savingThrows:'Int +14, Wis +14, Cha +17',skills:'Perception +14',dmgImmune:['necrotic','poison','radiant'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','poisoned'],senses:'Truesight 120 ft, Passive Perception 24',legendary:true,spellcaster:true,abilities:[{n:'Angelic Weapons',t:'Extra 6d8 radiant on weapon hits.'},{n:'Divine Awareness',t:'Knows if hearing a lie.'},{n:'Innate Spellcasting',t:'At will: Detect Evil and Good, Invisibility (self); 3/day each: Blade Barrier, Dispel Evil and Good; 1/day each: Commune, Control Weather.'}],actions:[{n:'Multiattack',t:'Two Greatsword attacks.'},{n:'Greatsword',t:'+15 to hit, 4d6+8 slashing + 6d8 radiant.'},{n:'Slaying Longbow',t:'+13 to hit, 150/600 ft, 2d8+6 piercing + 6d8 radiant. DC 15 Con or die instantly.'},{n:'Healing Touch (4/day)',t:'Touch restores 40 HP and removes disease or condition.'}],legendaryActions:[{n:'Teleport',t:'Teleport up to 120 ft.'},{n:'Searing Burst (2)',t:'Creatures within 10 ft, DC 23 Con or 2d6 radiant + 2d6 fire.'},{n:'Blinding Gaze (3)',t:'DC 15 Con or blinded 1 hour.'}]},
  {name:'Tarrasque',cr:30,size:'Gargantuan',type:'monstrosity',ac:25,hp:676,speed:'40 ft',str:30,dex:11,con:30,int:3,wis:11,cha:11,savingThrows:'Int +5, Wis +9, Cha +9',skills:'Perception +9',dmgImmune:['fire','poison','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','frightened','paralyzed','poisoned'],senses:'Blindsight 120 ft, Passive Perception 19',legendary:true,abilities:[{n:'Legendary Resistance (3/day)',t:'Choose to succeed on failed save.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Reflective Carapace',t:'Spells of 7th level or lower targeting it: roll d6. 1-2: fail, 3-4: reflected at caster, 5-6: no effect.'},{n:'Siege Monster',t:'Double damage to objects and structures.'}],actions:[{n:'Multiattack',t:'Frightful Presence; then Bite, two Claws, Horn, Tail.'},{n:'Bite',t:'+19 to hit, 4d12+10 piercing. DC 20 Dex or swallowed; blinded, restrained; 56 acid/round.'},{n:'Claw',t:'+19 to hit, 4d8+10 slashing.'},{n:'Horn',t:'+19 to hit, 4d10+10 piercing.'},{n:'Tail',t:'+19 to hit, 4d6+10 bludgeoning. DC 20 Str or knocked prone.'},{n:'Frightful Presence',t:'120 ft. DC 17 Wis or frightened 1 minute.'}],legendaryActions:[{n:'Attack',t:'One attack (not Bite or Tail).'},{n:'Move',t:'Move up to half speed.'},{n:'Chomp (2)',t:'Bite attack.'},{n:'Tail Attack (2)',t:'Tail attack.'}]},

  // Additional CR 1/4
  {name:'Needle Blight',cr:0.25,size:'Small',type:'plant',ac:12,hp:11,speed:'10 ft',str:12,dex:12,con:13,int:4,wis:8,cha:3,condImmune:['blinded','deafened'],senses:'Blindsight 60 ft, Passive Perception 9',actions:[{n:'Claws',t:'+3 to hit, 1d4+1 piercing.'},{n:'Needles',t:'+3 to hit, 30/60 ft, 2d6+1 piercing.'}]},
  {name:'Vine Blight',cr:0.5,size:'Medium',type:'plant',ac:12,hp:26,speed:'10 ft',str:15,dex:8,con:14,int:5,wis:10,cha:3,condImmune:['blinded','deafened'],senses:'Blindsight 60 ft, Passive Perception 10',abilities:[{n:'False Appearance',t:'While motionless, indistinguishable from a tangle of vines.'}],actions:[{n:'Constrict',t:'+4 to hit, 2d6+2 bludgeoning. Grappled/restrained DC 12 Str.'},{n:'Entangling Plants (Recharge 6)',t:'15 ft radius, DC 12 Str or restrained.'}]},
  {name:'Twig Blight',cr:0.125,size:'Small',type:'plant',ac:13,hp:4,speed:'20 ft',str:6,dex:13,con:12,int:4,wis:8,cha:3,dmgVuln:['fire'],condImmune:['blinded','deafened'],senses:'Blindsight 60 ft, Passive Perception 9',abilities:[{n:'False Appearance',t:'While motionless, indistinguishable from a dead shrub.'}],actions:[{n:'Claws',t:'+3 to hit, 1d4+1 piercing.'}]},
  // Additional CR 1
  {name:'Death Dog',cr:1,size:'Medium',type:'monstrosity',ac:12,hp:39,speed:'40 ft',str:15,dex:14,con:14,int:3,wis:13,cha:6,skills:'Perception +5, Stealth +4',senses:'Darkvision 120 ft, Passive Perception 15',abilities:[{n:'Two-Headed',t:'Advantage on Perception and Wis saves.'},{n:'Wakeful',t:'When one head sleeps, the other is awake.'}],actions:[{n:'Multiattack',t:'Two Bite attacks.'},{n:'Bite',t:'+4 to hit, 1d6+2 piercing. DC 12 Con or diseased (Wis max -1d4/day).'}]},
  {name:'Scarecrow',cr:1,size:'Medium',type:'construct',ac:11,hp:36,speed:'30 ft',str:11,dex:13,con:11,int:10,wis:10,cha:13,dmgImmune:['poison'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','poisoned','unconscious'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'False Appearance',t:'While motionless, indistinguishable from a normal scarecrow.'}],actions:[{n:'Multiattack',t:'Two Claw attacks.'},{n:'Claw',t:'+3 to hit, 2d4+1 slashing.'},{n:'Terrifying Glare',t:'DC 11 Wis or frightened until end of next turn.'}]},
  {name:'Yuan-Ti Pureblood',cr:1,size:'Medium',type:'humanoid',ac:11,hp:40,speed:'30 ft',str:11,dex:12,con:13,int:14,wis:11,cha:14,skills:'Deception +4, Perception +2, Stealth +3',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Darkvision 60 ft, Passive Perception 12',spellcaster:true,abilities:[{n:'Innate Spellcasting',t:'At will: Animal Friendship (snakes only); 3/day: Suggestion; 1/day: Enthrall.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Scimitar and Shortbow, or two Scimitars.'},{n:'Scimitar',t:'+3 to hit, 1d6+1 slashing.'},{n:'Shortbow',t:'+3 to hit, 80/320 ft, 1d6+1 piercing + 2d6 poison. DC 11 Con or poisoned 1 hour.'}]},
  // Additional CR 2
  {name:'Centaur',cr:2,size:'Large',type:'monstrosity',ac:12,hp:45,speed:'50 ft',str:18,dex:14,con:14,int:9,wis:13,cha:11,skills:'Athletics +6, Perception +3, Survival +3',senses:'Passive Perception 13',actions:[{n:'Multiattack',t:'Pike and Hooves.'},{n:'Pike',t:'+6 to hit, 1d10+4 piercing.'},{n:'Hooves',t:'+6 to hit, 2d8+4 bludgeoning.'},{n:'Longbow',t:'+4 to hit, 150/600 ft, 1d8+2 piercing.'}]},
  {name:'Sea Hag (in coven)',cr:2,size:'Medium',type:'fey',ac:14,hp:52,speed:'30 ft, swim 40 ft',str:16,dex:13,con:16,int:12,wis:12,cha:13,skills:'Arcana +3, Deception +4, Perception +4, Stealth +3',senses:'Darkvision 60 ft, Passive Perception 14',abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Horrific Appearance',t:'DC 11 Wis or frightened 1 minute.'}],actions:[{n:'Claws',t:'+5 to hit, 2d6+3 slashing.'},{n:'Death Glare',t:'DC 11 Wis or drop to 0 HP.'},{n:'Illusory Appearance',t:'Disguise self as beautiful humanoid.'}]},
  {name:'Wereboar',cr:4,size:'Medium',type:'humanoid',ac:11,hp:78,speed:'30 ft (40 ft boar form)',str:17,dex:10,con:15,int:10,wis:11,cha:8,skills:'Perception +2',dmgImmune:['bludgeoning','piercing','slashing from nonmagical non-silvered'],senses:'Passive Perception 12',abilities:[{n:'Shapechanger',t:'Can polymorph into boar-humanoid hybrid or boar.'},{n:'Charge',t:'Move 15 ft and Tusk hit: DC 13 Str or knocked prone.'}],actions:[{n:'Multiattack',t:'Two attacks.'},{n:'Tusk (Hybrid/Boar)',t:'+5 to hit, 2d6+3 slashing. DC 12 Con or curse of lycanthropy.'},{n:'Greataxe (Humanoid/Hybrid)',t:'+5 to hit, 1d12+3 slashing.'}]},
  {name:'Weretiger',cr:4,size:'Medium',type:'humanoid',ac:12,hp:120,speed:'30 ft (40 ft tiger form)',str:17,dex:15,con:16,int:10,wis:13,cha:11,skills:'Perception +5, Stealth +4',dmgImmune:['bludgeoning','piercing','slashing from nonmagical non-silvered'],senses:'Darkvision 60 ft, Passive Perception 15',abilities:[{n:'Shapechanger',t:'Can polymorph into tiger-humanoid hybrid or tiger.'},{n:'Keen Hearing and Smell',t:'Advantage on Perception relying on hearing or smell.'},{n:'Pounce (Hybrid/Tiger)',t:'Move 15 ft and Claw hit: DC 14 Str or prone; Bite as bonus action.'}],actions:[{n:'Multiattack',t:'Two attacks.'},{n:'Bite (Hybrid/Tiger)',t:'+5 to hit, 1d10+3 piercing. DC 13 Con or curse of lycanthropy.'},{n:'Claws (Hybrid/Tiger)',t:'+5 to hit, 1d8+3 slashing.'},{n:'Scimitar (Humanoid/Hybrid)',t:'+5 to hit, 1d6+3 slashing.'}]},
  {name:'Werebear',cr:5,size:'Medium',type:'humanoid',ac:11,hp:135,speed:'30 ft (40 ft bear form)',str:19,dex:10,con:17,int:11,wis:12,cha:12,skills:'Perception +7',dmgImmune:['bludgeoning','piercing','slashing from nonmagical non-silvered'],senses:'Passive Perception 17',abilities:[{n:'Shapechanger',t:'Can polymorph into bear-humanoid hybrid or brown bear.'},{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Multiattack',t:'Two attacks.'},{n:'Bite (Bear/Hybrid)',t:'+7 to hit, 2d10+4 piercing. DC 14 Con or curse of lycanthropy.'},{n:'Claws (Bear/Hybrid)',t:'+7 to hit, 2d8+4 slashing.'},{n:'Handaxe (Humanoid/Hybrid)',t:'+7 to hit, 1d6+4 slashing.'}]},
  {name:'Wererat',cr:2,size:'Medium',type:'humanoid',ac:12,hp:33,speed:'30 ft',str:10,dex:15,con:12,int:11,wis:10,cha:8,skills:'Perception +2, Stealth +4',dmgImmune:['bludgeoning','piercing','slashing from nonmagical non-silvered'],senses:'Darkvision 60 ft, Passive Perception 12',abilities:[{n:'Shapechanger',t:'Can polymorph into rat-humanoid hybrid or giant rat.'},{n:'Keen Smell',t:'Advantage on Perception relying on smell.'}],actions:[{n:'Multiattack',t:'Two attacks.'},{n:'Bite (Hybrid/Rat)',t:'+4 to hit, 1d4+2 piercing. DC 11 Con or curse of lycanthropy.'},{n:'Shortsword (Humanoid/Hybrid)',t:'+4 to hit, 1d6+2 piercing.'},{n:'Hand Crossbow (Humanoid/Hybrid)',t:'+4 to hit, 30/120 ft, 1d6+2 piercing.'}]},
  // Additional CR 3-5 monsters
  {name:'Bugbear Chief',cr:3,size:'Medium',type:'humanoid',ac:17,hp:65,speed:'30 ft',str:17,dex:14,con:14,int:11,wis:12,cha:11,skills:'Intimidation +2, Stealth +6, Survival +3',senses:'Darkvision 60 ft, Passive Perception 11',abilities:[{n:'Brute',t:'Extra die of weapon damage.'},{n:'Surprise Attack',t:'Extra 2d6 if surprises and hits first round.'},{n:'Heart of Hruggek',t:'Advantage on saves vs charmed, frightened, paralyzed, poisoned, stunned, unconscious.'}],actions:[{n:'Multiattack',t:'Two Morningstar attacks.'},{n:'Morningstar',t:'+5 to hit, 2d8+3 piercing.'},{n:'Javelin',t:'+5 to hit, 30/120 ft, 2d6+3 piercing.'}]},
  {name:'Displacer Beast',cr:3,size:'Large',type:'monstrosity',ac:13,hp:85,speed:'40 ft',str:18,dex:15,con:16,int:6,wis:12,cha:8,senses:'Darkvision 60 ft, Passive Perception 11',abilities:[{n:'Displacement',t:'Attacks against it have disadvantage until it takes damage.'},{n:'Avoidance',t:'On successful Dex save: no damage; on failure: half damage.'}],actions:[{n:'Multiattack',t:'Two Tentacle attacks.'},{n:'Tentacle',t:'+6 to hit, 1d6+4 bludgeoning + 1d6+4 piercing.'}]},
  {name:'Drow',cr:0.25,size:'Medium',type:'humanoid',ac:15,hp:13,speed:'30 ft',str:10,dex:14,con:10,int:11,wis:11,cha:12,skills:'Perception +2, Stealth +4',senses:'Darkvision 120 ft, Passive Perception 12',spellcaster:true,abilities:[{n:'Fey Ancestry',t:'Advantage on saves vs charmed; immune to magic sleep.'},{n:'Innate Spellcasting',t:'At will: Dancing Lights; 1/day each: Darkness, Faerie Fire.'},{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'}],actions:[{n:'Shortsword',t:'+4 to hit, 1d6+2 piercing.'},{n:'Hand Crossbow',t:'+4 to hit, 30/120 ft, 1d6+2 piercing + 2d4 poison. DC 13 Con or poisoned 1 hour; unconscious if fails by 5+.'}]},
  {name:'Drow Elite Warrior',cr:5,size:'Medium',type:'humanoid',ac:18,hp:71,speed:'30 ft',str:13,dex:18,con:14,int:11,wis:13,cha:12,savingThrows:'Dex +7, Con +5, Wis +4',skills:'Perception +4, Stealth +10',senses:'Darkvision 120 ft, Passive Perception 14',spellcaster:true,abilities:[{n:'Fey Ancestry',t:'Advantage on saves vs charmed; immune to magic sleep.'},{n:'Innate Spellcasting',t:'At will: Dancing Lights; 1/day each: Darkness, Faerie Fire, Levitate.'},{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'}],actions:[{n:'Multiattack',t:'Two Shortsword attacks.'},{n:'Shortsword',t:'+7 to hit, 1d6+4 piercing + 3d6 poison. DC 13 Con or poisoned 1 hour.'},{n:'Hand Crossbow',t:'+7 to hit, 30/120 ft, 1d6+4 piercing + 3d6 poison.'}]},
  {name:'Gnoll Fang of Yeenoghu',cr:4,size:'Medium',type:'fiend',ac:14,hp:65,speed:'30 ft',str:17,dex:15,con:15,int:10,wis:11,cha:13,savingThrows:'Con +4, Wis +2, Cha +3',senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Rampage',t:'When reducing to 0 HP, move half speed and Bite as bonus action.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+5 to hit, 1d6+3 piercing + 1d6 poison.'},{n:'Claw',t:'+5 to hit, 1d8+3 slashing.'}]},
  {name:'Goblin Boss',cr:1,size:'Small',type:'humanoid',ac:17,hp:21,speed:'30 ft',str:10,dex:14,con:10,int:10,wis:8,cha:10,skills:'Stealth +6',senses:'Darkvision 60 ft, Passive Perception 9',abilities:[{n:'Nimble Escape',t:'Can Disengage or Hide as bonus action.'}],actions:[{n:'Multiattack',t:'Two Scimitar attacks.'},{n:'Scimitar',t:'+4 to hit, 1d6+2 slashing.'},{n:'Javelin',t:'+2 to hit, 30/120 ft, 1d6 piercing.'},{n:'Redirect Attack',t:'When ally misses, that attack targets another creature adjacent to goblin boss.'}]},
  {name:'Hobgoblin Captain',cr:3,size:'Medium',type:'humanoid',ac:17,hp:52,speed:'30 ft',str:15,dex:14,con:14,int:12,wis:10,cha:13,senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Martial Advantage',t:'Once per turn, extra 3d6 if ally adjacent to target.'}],actions:[{n:'Multiattack',t:'Two Greatsword attacks.'},{n:'Greatsword',t:'+4 to hit, 2d6+2 slashing.'},{n:'Javelin',t:'+4 to hit, 30/120 ft, 1d6+2 piercing.'},{n:'Leadership (Recharges after Rest)',t:'Allies within 30 ft add 1d4 to attacks and saves for 1 minute.'}]},
  {name:'Hobgoblin Warlord',cr:6,size:'Medium',type:'humanoid',ac:20,hp:97,speed:'30 ft',str:16,dex:14,con:16,int:14,wis:11,cha:15,savingThrows:'Int +5, Wis +3, Cha +5',senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Martial Advantage',t:'Once per turn, extra 4d6 if ally adjacent to target.'}],actions:[{n:'Multiattack',t:'Three Longsword attacks.'},{n:'Longsword',t:'+6 to hit, 1d8+3 slashing (1d10+3 two-handed).'},{n:'Shield Bash',t:'+6 to hit, 1d4+3 bludgeoning. DC 14 Str or prone.'},{n:'Leadership (Recharges after Rest)',t:'Allies within 30 ft add 1d4 for 1 minute.'}]},
  {name:'Kobold Scale Sorcerer',cr:1,size:'Small',type:'humanoid',ac:15,hp:27,speed:'30 ft',str:7,dex:15,con:14,int:10,wis:9,cha:14,skills:'Arcana +2',senses:'Darkvision 60 ft, Passive Perception 9',spellcaster:true,abilities:[{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'},{n:'Pack Tactics',t:'Advantage on attacks if ally adjacent.'},{n:'Spellcasting',t:'4th-level Cha sorcerer; DC 12. Cantrips: Fire Bolt, Mage Hand, Poison Spray. 1st: Charm Person, Expeditious Retreat; 2nd: Scorching Ray.'}],actions:[{n:'Dagger',t:'+4 to hit, 1d4+2 piercing.'}]},
  {name:'Lizardfolk Shaman',cr:4,size:'Medium',type:'humanoid',ac:13,hp:78,speed:'30 ft, swim 30 ft',str:15,dex:10,con:13,int:10,wis:15,cha:8,skills:'Nature +4, Perception +4, Stealth +4, Survival +6',senses:'Passive Perception 14',spellcaster:true,abilities:[{n:'Hold Breath',t:'Can hold breath 15 minutes.'},{n:'Spellcasting',t:'4th-level Wis druid; DC 12. Cantrips: Druidcraft, Poison Spray. 1st: Animal Friendship, Thunderwave. 2nd: Heat Metal, Spike Growth.'}],actions:[{n:'Multiattack',t:'Two Claws or Spiked Club attacks.'},{n:'Claws',t:'+4 to hit, 1d6+2 slashing.'},{n:'Spiked Club',t:'+4 to hit, 2d4+2 piercing.'},{n:'Summon Swarm (2/day)',t:'Summon a swarm of insects. Acts on next turn.'}]},
  {name:'Orc Eye of Gruumsh',cr:2,size:'Medium',type:'humanoid',ac:16,hp:45,speed:'30 ft',str:16,dex:12,con:16,int:9,wis:13,cha:12,skills:'Intimidation +3, Religion +1',senses:'Darkvision 60 ft, Passive Perception 11',spellcaster:true,abilities:[{n:'Aggressive',t:'Bonus action: move toward hostile.'},{n:'Gruumsh\'s Fury',t:'Extra 1d8 damage on weapon hit.'},{n:'Spellcasting',t:'3rd-level Wis cleric; DC 11. Cantrips: Guidance, Resistance, Thaumaturgy. 1st: Bless, Inflict Wounds; 2nd: Augury, Spiritual Weapon.'}],actions:[{n:'Multiattack',t:'Spear and Spiritual Weapon.'},{n:'Spear',t:'+5 to hit, 1d6+3 piercing + 1d8 piercing (Gruumsh).'}]},
  {name:'Orog',cr:2,size:'Medium',type:'humanoid',ac:18,hp:42,speed:'30 ft',str:18,dex:12,con:18,int:12,wis:11,cha:12,skills:'Intimidation +5, Survival +2',senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Aggressive',t:'Bonus action: move toward hostile.'}],actions:[{n:'Multiattack',t:'Two Greataxe attacks.'},{n:'Greataxe',t:'+6 to hit, 1d12+4 slashing.'},{n:'Javelin',t:'+6 to hit, 30/120 ft, 1d6+4 piercing.'}]},
  {name:'Yuan-Ti Malison',cr:3,size:'Medium',type:'monstrosity',ac:12,hp:66,speed:'30 ft',str:16,dex:14,con:13,int:14,wis:12,cha:16,skills:'Deception +5, Stealth +4',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Darkvision 60 ft, Passive Perception 11',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'At will: Animal Friendship (snakes only); 3/day: Suggestion; 1/day: Fear.'}],actions:[{n:'Multiattack',t:'Two Constrict or Scimitar attacks.'},{n:'Scimitar',t:'+5 to hit, 1d6+3 slashing.'},{n:'Constrict',t:'+5 to hit, 2d6+3 bludgeoning. Grappled/restrained DC 13 Str.'}]},
  {name:'Yuan-Ti Abomination',cr:7,size:'Large',type:'monstrosity',ac:15,hp:127,speed:'40 ft, swim 30 ft',str:19,dex:16,con:17,int:17,wis:15,cha:18,skills:'Perception +5, Stealth +6',dmgImmune:['poison'],condImmune:['poisoned'],senses:'Darkvision 60 ft, Passive Perception 15',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'At will: Animal Friendship (snakes only), Detect Thoughts, Suggestion; 3/day: Fear; 1/day: Hypnotic Pattern, Polymorph.'}],actions:[{n:'Multiattack',t:'Two Scimitar attacks and Constrict.'},{n:'Scimitar',t:'+7 to hit, 1d6+4 slashing.'},{n:'Constrict',t:'+7 to hit, 2d8+4 bludgeoning. Grappled/restrained DC 15 Str.'},{n:'Bite',t:'+7 to hit, 1d10+4 piercing + 2d6 poison.'}]},
  // Additional undead
  {name:'Shadow',cr:0.5,size:'Medium',type:'undead',ac:12,hp:16,speed:'40 ft',str:6,dex:14,con:13,int:6,wis:10,cha:8,dmgImmune:['necrotic','poison'],dmgResist:['acid','cold','fire','lightning','thunder','bludgeoning','piercing','slashing from non-magic'],condImmune:['exhaustion','frightened','grappled','paralyzed','petrified','poisoned','prone','restrained'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Amorphous',t:'Can move through 1-inch gaps.'},{n:'Shadow Stealth',t:'Bonus action: Hide in dim light or darkness.'},{n:'Sunlight Weakness',t:'In sunlight: disadvantage on attacks, ability checks, saves.'}],actions:[{n:'Strength Drain',t:'+4 to hit, 2d6+2 necrotic. Target Str -1d4; dies at Str 0, rises as shadow.'}]},
  {name:'Wight',cr:3,size:'Medium',type:'undead',ac:14,hp:45,speed:'30 ft',str:15,dex:14,con:16,int:10,wis:13,cha:15,skills:'Perception +3, Stealth +4',dmgImmune:['necrotic','poison'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['exhaustion','poisoned'],senses:'Darkvision 60 ft, Passive Perception 13',abilities:[{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'}],actions:[{n:'Multiattack',t:'Longsword and Life Drain.'},{n:'Longsword',t:'+4 to hit, 1d8+2 slashing (1d10+2 two-handed).'},{n:'Longbow',t:'+4 to hit, 150/600 ft, 1d8+2 piercing.'},{n:'Life Drain',t:'+4 to hit, 1d6+2 necrotic. DC 13 Con or max HP reduced by that amount; human slain by this rises as zombie under wight\'s control.'}]},
  {name:'Wraith',cr:5,size:'Medium',type:'undead',ac:13,hp:67,speed:'0 ft, fly 60 ft (hover)',str:6,dex:16,con:16,int:12,wis:14,cha:15,dmgImmune:['cold','necrotic','poison'],dmgResist:['acid','fire','lightning','thunder','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','grappled','paralyzed','petrified','poisoned','prone','restrained'],senses:'Darkvision 60 ft, Passive Perception 12',abilities:[{n:'Incorporeal Movement',t:'Can pass through objects; 1d10 force if ending inside.'},{n:'Sunlight Sensitivity',t:'Disadvantage on attacks and Perception in sunlight.'}],actions:[{n:'Life Drain',t:'+6 to hit, 4d8+3 necrotic. DC 14 Con or max HP reduced.'},{n:'Create Specter',t:'Humanoid slain today rises as specter under wraith\'s control.'}]},
  {name:'Flameskull',cr:4,size:'Tiny',type:'undead',ac:13,hp:40,speed:'0 ft, fly 40 ft (hover)',str:1,dex:17,con:14,int:16,wis:10,cha:11,dmgImmune:['cold','fire','necrotic','poison'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','paralyzed','petrified','poisoned','prone'],senses:'Darkvision 60 ft, Passive Perception 10',spellcaster:true,abilities:[{n:'Illumination',t:'Sheds bright light 15 ft, dim light 15 ft further.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Rejuvenation',t:'If destroyed, returns to life in 1 hour with 1 HP unless holy water is sprinkled on remains.'},{n:'Spellcasting',t:'5th-level Int wizard; DC 13. Cantrips: Mage Hand. 1st: Magic Missile, Shield. 2nd: Blur, Flaming Sphere. 3rd: Fireball, Haste.'}],actions:[{n:'Multiattack',t:'Two Fire Ray attacks.'},{n:'Fire Ray',t:'+5 to hit, 60 ft, 3d6 fire.'}]},
  {name:'Revenant',cr:5,size:'Medium',type:'undead',ac:13,hp:136,speed:'30 ft',str:18,dex:14,con:18,int:13,wis:16,cha:18,savingThrows:'Str +7, Con +7, Wis +6, Cha +7',skills:'Perception +6',dmgImmune:['poison'],dmgResist:['necrotic','psychic'],condImmune:['charmed','exhaustion','frightened','paralyzed','poisoned','stunned'],senses:'Darkvision 60 ft, Passive Perception 16',abilities:[{n:'Regeneration',t:'Regains 10 HP at start of turn. Only ends at 0 HP if destroyed by radiant or in blessed land.'},{n:'Relentless Tracker',t:'Knows direction and distance to the person it seeks revenge upon.'},{n:'Undying Nature',t:'Does not need air, food, water, or sleep.'}],actions:[{n:'Multiattack',t:'Two Fist attacks.'},{n:'Fist',t:'+7 to hit, 2d6+4 bludgeoning. DC 15 Str or stunned 1 minute.'},{n:'Vengeful Glare',t:'DC 15 Wis or paralyzed 1 minute.'}]},
  // Additional aberrations/constructs
  {name:'Gibbering Mouther',cr:2,size:'Medium',type:'aberration',ac:9,hp:67,speed:'10 ft, swim 10 ft',str:10,dex:8,con:16,int:3,wis:10,cha:6,condImmune:['prone'],senses:'Darkvision 60 ft, Passive Perception 10',abilities:[{n:'Aberrant Ground',t:'Ground within 10 ft is difficult terrain. DC 10 Wis or lose direction.'},{n:'Gibbering',t:'DC 10 Wis or do random action.'}],actions:[{n:'Multiattack',t:'One Bite attack per mouth (1-5).'},{n:'Bite',t:'+2 to hit, 1d6 piercing + 1d4 psychic. 5+ on save or two teeth become one Bite.'},{n:'Blinding Spittle (Recharge 5-6)',t:'Target within 15 ft DC 13 Dex or blinded 1 minute.'}]},
  {name:'Grell',cr:3,size:'Medium',type:'aberration',ac:12,hp:55,speed:'0 ft, fly 30 ft (hover)',str:15,dex:14,con:13,int:12,wis:11,cha:9,condImmune:['blinded','prone'],senses:'Blindsight 60 ft, Passive Perception 10',abilities:[{n:'Amphibious',t:'Can breathe air and water.'}],actions:[{n:'Multiattack',t:'Tentacles and Beak.'},{n:'Tentacles',t:'+4 to hit, 1d10+2 lightning. DC 11 Con or paralyzed 1 minute. Grappled DC 12 Str.'},{n:'Beak',t:'+4 to hit, 2d4+2 piercing.'}]},
  {name:'Stone Golem',cr:10,size:'Large',type:'construct',ac:17,hp:178,speed:'30 ft',str:22,dex:9,con:20,int:3,wis:11,cha:1,dmgImmune:['poison','psychic','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','paralyzed','petrified','poisoned'],senses:'Darkvision 120 ft, Passive Perception 10',abilities:[{n:'Immutable Form',t:'Immune to any effect that would alter form.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Magic Weapons',t:'Weapon attacks are magical.'}],actions:[{n:'Multiattack',t:'Two Slam attacks.'},{n:'Slam',t:'+8 to hit, 2d10+6 bludgeoning.'},{n:'Slow (Recharge 5-6)',t:'DC 17 Wis or slowed 1 minute.'}]},
  {name:'Clay Golem',cr:9,size:'Large',type:'construct',ac:14,hp:133,speed:'20 ft',str:20,dex:9,con:18,int:3,wis:8,cha:1,dmgImmune:['acid','poison','psychic','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','paralyzed','petrified','poisoned'],senses:'Darkvision 60 ft, Passive Perception 9',abilities:[{n:'Acid Absorption',t:'When hit by acid: no damage, regains HP equal to acid damage.'},{n:'Berserk',t:'At <=60 HP: d6 on turn start; on 6, attacks nearest creature.'},{n:'Immutable Form',t:'Immune to any effect that would alter form.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Two Slam attacks.'},{n:'Slam',t:'+8 to hit, 2d10+5 bludgeoning. Target cursed: cannot regain HP; DC 15 Con to remove.'}]},
  {name:'Iron Golem',cr:16,size:'Large',type:'construct',ac:20,hp:210,speed:'30 ft',str:24,dex:9,con:20,int:3,wis:11,cha:1,dmgImmune:['fire','poison','psychic','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed','exhaustion','frightened','paralyzed','petrified','poisoned'],senses:'Darkvision 120 ft, Passive Perception 10',abilities:[{n:'Fire Absorption',t:'When hit by fire: no damage, regains HP equal to fire damage.'},{n:'Immutable Form',t:'Immune to any effect that would alter form.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Magic Weapons',t:'Weapon attacks are magical.'}],actions:[{n:'Multiattack',t:'Two Melee attacks.'},{n:'Slam',t:'+13 to hit, 3d8+7 bludgeoning.'},{n:'Sword',t:'+13 to hit, 3d10+7 slashing.'},{n:'Poison Breath (Recharge 6)',t:'15 ft cone DC 19 Con or 10d8 poison; half on save.'}]},
  // Demons
  {name:'Quasit',cr:1,size:'Tiny',type:'fiend',ac:13,hp:7,speed:'40 ft',str:5,dex:17,con:10,int:7,wis:10,cha:10,skills:'Stealth +5',dmgImmune:['fire','poison'],dmgResist:['cold','bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Darkvision 120 ft, Passive Perception 10',abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Shapechanger',t:'Polymorph into bat, centipede, or toad.'}],actions:[{n:'Claw',t:'+4 to hit, 1d4+3 piercing + 1d4 poison. DC 10 Con or poisoned 1 minute.'},{n:'Scare (1/day)',t:'DC 10 Wis or frightened 1 minute.'},{n:'Invisibility',t:'Invisible until it attacks or casts.'}]},
  {name:'Manes',cr:0.125,size:'Small',type:'fiend',ac:9,hp:9,speed:'20 ft',str:10,dex:9,con:10,int:3,wis:8,cha:4,dmgResist:['cold','fire','lightning'],condImmune:['charmed','frightened','poisoned'],senses:'Darkvision 60 ft, Passive Perception 9',actions:[{n:'Claws',t:'+2 to hit, 1d4 slashing.'}]},
  {name:'Dretch',cr:0.25,size:'Small',type:'fiend',ac:11,hp:18,speed:'20 ft',str:11,dex:11,con:12,int:5,wis:8,cha:3,dmgResist:['cold','fire','lightning'],condImmune:['poisoned'],senses:'Darkvision 60 ft, Passive Perception 9',actions:[{n:'Multiattack',t:'Bite and Claws.'},{n:'Bite',t:'+2 to hit, 1d6 piercing.'},{n:'Claws',t:'+2 to hit, 2d4 slashing.'},{n:'Fetid Cloud (1/day)',t:'10 ft radius DC 11 Con or poisoned 1 minute.'}]},
  {name:'Vrock',cr:6,size:'Large',type:'fiend',ac:15,hp:104,speed:'40 ft, fly 60 ft',str:17,dex:15,con:18,int:8,wis:13,cha:8,savingThrows:'Dex +5, Wis +4, Cha +2',dmgResist:['cold','fire','lightning','bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Darkvision 120 ft, Passive Perception 4',abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Beak and Talons.'},{n:'Beak',t:'+6 to hit, 2d6+3 piercing.'},{n:'Talons',t:'+6 to hit, 2d10+3 slashing.'},{n:'Spores (Recharge 6)',t:'15 ft radius. DC 14 Con or poisoned 1 minute; 1d10 poison/turn.'},{n:'Stunning Screech (1/day)',t:'All non-demon within 20 ft DC 14 Con or stunned until end of next turn.'}]},
  {name:'Hezrou',cr:8,size:'Large',type:'fiend',ac:16,hp:136,speed:'30 ft',str:19,dex:17,con:20,int:5,wis:12,cha:13,savingThrows:'Str +7, Con +8, Wis +4',dmgResist:['cold','fire','lightning','bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Darkvision 120 ft, Passive Perception 4',abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Stench',t:'DC 14 Con or poisoned 1 minute.'}],actions:[{n:'Multiattack',t:'Bite and two Claws.'},{n:'Bite',t:'+7 to hit, 2d10+4 piercing.'},{n:'Claw',t:'+7 to hit, 2d6+4 slashing.'}]},
  {name:'Glabrezu',cr:9,size:'Large',type:'fiend',ac:17,hp:157,speed:'40 ft',str:20,dex:15,con:21,int:19,wis:17,cha:16,savingThrows:'Str +9, Con +9, Wis +7, Cha +7',skills:'Deception +7',dmgResist:['cold','fire','lightning','bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Truesight 120 ft, Passive Perception 13',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'At will: Darkness, Detect Magic, Dispel Magic; 1/day each: Confusion, Power Word Stun.'}],actions:[{n:'Multiattack',t:'Two Pincers and Fist.'},{n:'Pincer',t:'+9 to hit, 2d10+5 bludgeoning. Grappled DC 15 Str.'},{n:'Fist',t:'+9 to hit, 2d6+5 bludgeoning.'}]},
  {name:'Marilith',cr:16,size:'Large',type:'fiend',ac:18,hp:189,speed:'40 ft',str:18,dex:20,con:20,int:18,wis:16,cha:20,savingThrows:'Str +9, Con +10, Wis +8, Cha +10',skills:'Perception +8',dmgResist:['cold','fire','lightning','bludgeoning','piercing','slashing from non-magic'],condImmune:['poisoned'],senses:'Truesight 120 ft, Passive Perception 18',legendary:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Magic Weapons',t:'Weapon attacks are magical.'},{n:'Reactive',t:'One reaction per each attacker per round.'}],actions:[{n:'Multiattack',t:'Seven attacks: six Longswords and one Tail.'},{n:'Longsword',t:'+9 to hit, 2d8+4 slashing.'},{n:'Tail',t:'+9 to hit, 2d10+4 bludgeoning. Grappled DC 19 Str.'}],legendaryActions:[{n:'Attack',t:'Longsword attack.'},{n:'Parry',t:'+5 AC against one attack.'},{n:'Teleport',t:'Teleport up to 120 ft.'}]},
  // Devils
  {name:'Bearded Devil',cr:3,size:'Medium',type:'fiend',ac:13,hp:52,speed:'30 ft',str:16,dex:15,con:15,int:9,wis:11,cha:11,savingThrows:'Str +5, Con +4, Wis +2',dmgResist:['cold','bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],dmgImmune:['fire','poison'],senses:'Darkvision 120 ft, Passive Perception 10',abilities:[{n:'Devil\'s Sight',t:'Magical darkness does not impede darkvision.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Steadfast',t:'Cannot be frightened while allies are present.'}],actions:[{n:'Multiattack',t:'Glaive and Beard.'},{n:'Glaive',t:'+5 to hit, 1d10+3 slashing + 1d10 infernal. If takes damage next turn: 2d10 extra piercing.'},{n:'Beard',t:'+5 to hit, 1d8+3 piercing. DC 12 Con or poisoned 1 minute.'}]},
  {name:'Barbed Devil',cr:5,size:'Medium',type:'fiend',ac:15,hp:110,speed:'30 ft',str:16,dex:17,con:18,int:12,wis:14,cha:14,savingThrows:'Str +6, Con +7, Wis +5, Cha +5',skills:'Deception +5, Insight +5, Perception +8',dmgResist:['cold','bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],dmgImmune:['fire','poison'],senses:'Darkvision 120 ft, Passive Perception 18',abilities:[{n:'Barbed Hide',t:'Creatures grappling barbed devil or in melee take 1d4+3 piercing at start of turn.'},{n:'Devil\'s Sight',t:'Magical darkness does not impede darkvision.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Three attacks: one Tail and two Claws.'},{n:'Claw',t:'+6 to hit, 1d6+3 piercing.'},{n:'Tail',t:'+6 to hit, 2d8+3 piercing.'},{n:'Hurl Flame',t:'+5 to hit, 150 ft, 3d6 fire.'}]},
  {name:'Chain Devil',cr:8,size:'Medium',type:'fiend',ac:16,hp:85,speed:'30 ft',str:18,dex:15,con:18,int:11,wis:12,cha:14,savingThrows:'Con +7, Wis +4, Cha +5',dmgResist:['cold','bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],dmgImmune:['fire','poison'],senses:'Darkvision 120 ft, Passive Perception 11',abilities:[{n:'Devil\'s Sight',t:'Magical darkness does not impede darkvision.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Two Chain attacks.'},{n:'Chain',t:'+8 to hit, 2d6+4 piercing. Grappled/restrained DC 14 Str.'},{n:'Animate Chains (Recharges after Rest)',t:'Up to four chains animate, restraining DC 14 Str.'}]},
  {name:'Bone Devil',cr:9,size:'Large',type:'fiend',ac:19,hp:142,speed:'40 ft, fly 40 ft',str:18,dex:16,con:18,int:13,wis:14,cha:16,savingThrows:'Int +5, Wis +6, Cha +7',skills:'Deception +7, Insight +6',dmgResist:['cold','bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],dmgImmune:['fire','poison'],senses:'Darkvision 120 ft, Passive Perception 12',abilities:[{n:'Devil\'s Sight',t:'Magical darkness does not impede darkvision.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Three attacks: two Claws and one Sting.'},{n:'Claw',t:'+8 to hit, 1d8+4 slashing.'},{n:'Sting',t:'+8 to hit, 2d8+4 piercing + 5d6 poison. DC 14 Con or poisoned 1 minute.'}]},
  {name:'Horned Devil',cr:11,size:'Large',type:'fiend',ac:18,hp:178,speed:'20 ft, fly 60 ft',str:22,dex:17,con:21,int:12,wis:16,cha:17,savingThrows:'Str +10, Dex +7, Wis +7, Cha +7',skills:'Perception +7',dmgResist:['cold','bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],dmgImmune:['fire','poison'],senses:'Darkvision 120 ft, Passive Perception 17',abilities:[{n:'Devil\'s Sight',t:'Magical darkness does not impede darkvision.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Multiattack',t:'Fork, Tail, and Hurl Flame.'},{n:'Fork',t:'+10 to hit, 2d8+6 piercing.'},{n:'Tail',t:'+10 to hit, 1d8+6 piercing + 2d6 fire. DC 17 Con or poisoned 1 minute.'},{n:'Hurl Flame',t:'+7 to hit, 150 ft, 4d6 fire. If 3+ fire damage, ignites.'}]},
  {name:'Ice Devil',cr:14,size:'Large',type:'fiend',ac:18,hp:180,speed:'40 ft',str:21,dex:14,con:18,int:18,wis:15,cha:18,savingThrows:'Dex +7, Con +9, Wis +7, Cha +9',skills:'Arcana +9, Deception +9, Insight +7, Perception +7',dmgResist:['bludgeoning','piercing','slashing from non-magic/non-silvered'],condImmune:['poisoned'],dmgImmune:['cold','fire','poison'],senses:'Blindsight 60 ft, Darkvision 120 ft, Passive Perception 17',spellcaster:true,abilities:[{n:'Devil\'s Sight',t:'Magical darkness does not impede darkvision.'},{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'At will: Wall of Ice.'}],actions:[{n:'Multiattack',t:'Claws, Horn, Tail, Ice Spear.'},{n:'Claws',t:'+10 to hit, 2d6+5 slashing.'},{n:'Horn',t:'+10 to hit, 3d6+5 piercing.'},{n:'Tail',t:'+10 to hit, 2d8+5 bludgeoning.'},{n:'Ice Spear (Recharge 6)',t:'60 ft, DC 18 Con or 6d8 cold + restrained DC 17 Str.'}]},
  // Fey & Celestials
  {name:'Pixie',cr:0.25,size:'Tiny',type:'fey',ac:15,hp:1,speed:'10 ft, fly 30 ft',str:2,dex:20,con:8,int:10,wis:14,cha:15,skills:'Perception +4, Stealth +7',senses:'Passive Perception 14',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'At will: Druidcraft, Detect Evil and Good, Detect Thoughts; 1/day each: Confusion, Dancing Lights, Entangle, Fly, Phantasmal Force, Polymorph, Sleep.'}],actions:[{n:'Superior Invisibility',t:'Invisible until spell ends or concentration.'}]},
  {name:'Sprite',cr:0.25,size:'Tiny',type:'fey',ac:15,hp:2,speed:'10 ft, fly 40 ft',str:3,dex:18,con:10,int:14,wis:13,cha:11,skills:'Perception +3, Stealth +8',senses:'Passive Perception 13',actions:[{n:'Longsword',t:'+2 to hit, 1 slashing.'},{n:'Shortbow',t:'+6 to hit, 40/160 ft, 1 piercing + 1d4 poison. DC 10 Con or poisoned 1 min; unconscious if fails by 5+.'},{n:'Heart Sight',t:'Touch: knows alignment and condition.'}]},
  {name:'Satyr',cr:0.5,size:'Medium',type:'fey',ac:14,hp:31,speed:'40 ft',str:12,dex:16,con:11,int:12,wis:10,cha:14,skills:'Perception +2, Performance +6, Stealth +5',senses:'Passive Perception 12',abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'}],actions:[{n:'Ram',t:'+3 to hit, 2d4+1 bludgeoning.'},{n:'Shortsword',t:'+5 to hit, 1d6+3 piercing.'},{n:'Shortbow',t:'+5 to hit, 80/320 ft, 1d6+3 piercing.'}]},
  {name:'Hag (Night)',cr:5,size:'Medium',type:'fiend',ac:17,hp:112,speed:'30 ft',str:18,dex:15,con:16,int:16,wis:14,cha:16,skills:'Deception +7, Insight +6, Perception +6, Stealth +6',dmgResist:['cold','fire','bludgeoning','piercing','slashing from non-magic'],condImmune:['charmed'],senses:'Darkvision 120 ft, Passive Perception 16',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Innate Spellcasting',t:'At will: Detect Magic, Magic Missile; 2/day: Plane Shift, Ray of Enfeeblement, Sleep.'}],actions:[{n:'Claws',t:'+7 to hit, 2d8+4 slashing.'},{n:'Change Shape',t:'Polymorph into Small or Medium humanoid.'},{n:'Nightmare Haunting (1/day)',t:'Sleeping target, DC 11 Wis or cursed; max HP -2d6/night.'}]},
  {name:'Archmage',cr:12,size:'Medium',type:'humanoid',ac:12,hp:99,speed:'30 ft',str:10,dex:14,con:12,int:20,wis:15,cha:16,savingThrows:'Int +9, Wis +6',skills:'Arcana +13, History +13',dmgResist:['damage from spells'],senses:'Passive Perception 12',spellcaster:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Spellcasting',t:'18th-level Int wizard; save DC 17. Cantrips: Fire Bolt, Mage Hand, Prestidigitation. 1st: Detect Magic, Identify, Mage Armor, Magic Missile. 2nd: Detect Thoughts, Mirror Image, Misty Step. 3rd: Counterspell, Fly, Lightning Bolt. 4th: Banishment, Fire Shield, Stoneskin. 5th: Cone of Cold, Scrying, Wall of Force. 6th: Globe of Invulnerability, Move Earth. 7th: Finger of Death, Plane Shift. 8th: Maze, Mind Blank. 9th: Time Stop, Wish.'}],actions:[{n:'Dagger',t:'+6 to hit, 1d4+2 piercing.'}]},
  {name:'Assassin',cr:8,size:'Medium',type:'humanoid',ac:15,hp:78,speed:'30 ft',str:11,dex:16,con:14,int:13,wis:11,cha:10,savingThrows:'Dex +6, Int +4',skills:'Acrobatics +6, Deception +3, Perception +3, Stealth +9',dmgResist:['poison'],senses:'Passive Perception 13',abilities:[{n:'Assassinate',t:'Advantage vs surprised creatures; crit on surprised creature.'},{n:'Evasion',t:'On Dex save: no damage on success, half on fail.'},{n:'Sneak Attack (1/turn)',t:'Extra 4d6 if advantage or ally is adjacent.'}],actions:[{n:'Multiattack',t:'Two Shortsword attacks.'},{n:'Shortsword',t:'+6 to hit, 1d6+3 piercing + 2d6 poison. DC 15 Con or poisoned 1 hour; unconscious if fails by 5+.'}]},
  {name:'Spy',cr:1,size:'Medium',type:'humanoid',ac:12,hp:27,speed:'30 ft',str:10,dex:15,con:10,int:12,wis:14,cha:16,skills:'Deception +5, Insight +4, Investigation +5, Perception +6, Persuasion +5, Sleight of Hand +4, Stealth +4',senses:'Passive Perception 16',abilities:[{n:'Cunning Action',t:'Bonus action: Dash, Disengage, or Hide.'},{n:'Sneak Attack (1/turn)',t:'Extra 2d6 if advantage or ally adjacent.'}],actions:[{n:'Multiattack',t:'Two Shortsword attacks.'},{n:'Shortsword',t:'+4 to hit, 1d6+2 piercing.'},{n:'Hand Crossbow',t:'+4 to hit, 30/120 ft, 1d6+2 piercing.'}]},
  {name:'Storm Giant',cr:13,size:'Huge',type:'giant',ac:16,hp:230,speed:'50 ft, swim 50 ft',str:29,dex:14,con:20,int:16,wis:18,cha:18,savingThrows:'Str +14, Con +10, Wis +9, Cha +9',skills:'Arcana +8, Athletics +14, History +8, Perception +9',dmgImmune:['lightning','thunder'],senses:'Passive Perception 19',spellcaster:true,abilities:[{n:'Amphibious',t:'Can breathe air and water.'},{n:'Innate Spellcasting',t:'3/day each: Control Water, Destructive Wave; 1/day: Control Weather, Water Breathing.'}],actions:[{n:'Multiattack',t:'Two Greatsword attacks.'},{n:'Greatsword',t:'+14 to hit, 6d6+9 slashing.'},{n:'Rock',t:'+14 to hit, 60/240 ft, 4d10+9 bludgeoning.'},{n:'Lightning Strike (Recharge 5-6)',t:'500 ft, DC 17 Dex or 12d8 lightning; half on save.'}]},
  {name:'Death Knight',cr:17,size:'Medium',type:'undead',ac:20,hp:180,speed:'30 ft',str:20,dex:11,con:20,int:12,wis:16,cha:18,savingThrows:'Dex +6, Wis +9, Cha +10',skills:'Perception +9',dmgImmune:['necrotic','poison'],dmgResist:['bludgeoning','piercing','slashing from non-magic'],condImmune:['exhaustion','frightened','poisoned'],senses:'Darkvision 120 ft, Passive Perception 19',spellcaster:true,legendary:true,abilities:[{n:'Magic Resistance',t:'Advantage on saves vs spells.'},{n:'Marshal Undead',t:'Undead within 60 ft add prof bonus to damage rolls.'},{n:'Spellcasting',t:'19th-level paladin; save DC 18. 1st: Command, Compelled Duel; 2nd: Hold Person; 3rd: Dispel Magic, Elemental Weapon; 4th: Banishment, Blight.'}],actions:[{n:'Multiattack',t:'Three Longsword attacks.'},{n:'Longsword',t:'+11 to hit, 1d8+5 slashing + 3d8 necrotic.'},{n:'Hellfire Orb (Recharge 5-6)',t:'60 ft. DC 18 Dex or 10d6 fire + 10d6 necrotic; half on save.'}],legendaryActions:[{n:'Cantrip',t:'Cast a cantrip.'},{n:'Longsword Attack (2)',t:'One Longsword attack.'},{n:'Frightening Gaze (2)',t:'DC 18 Wis or frightened 1 minute.'},{n:'Seal Fate (3)',t:'Cursed target; next death save fails automatically.'}]},
];

const TYPES = [...new Set(MONSTERS.map(m => m.type))].sort();
let activeTypes = new Set(['all']);
let activeSizes = new Set(['all']);
let searchQ = '';

function initPills() {
  const tp = document.getElementById('type-pills');
  tp.innerHTML = `<button type="button" class="pill active" data-val="all" onclick="togglePill(this,'type')" aria-pressed="true">All</button>` +
    TYPES.map(t => `<button type="button" class="pill" data-val="${t}" onclick="togglePill(this,'type')"
      style="${activeTypes.has(t)?'background:'+TYPE_COLORS[t]+';color:#fff;border-color:transparent':''}"
    >${t.charAt(0).toUpperCase()+t.slice(1)}</button>`).join('');
}

function togglePill(pill, group) {
  const val = pill.dataset.val;
  const set = group === 'type' ? activeTypes : activeSizes;
  const pillsId = group === 'type' ? 'type-pills' : 'size-pills';
  if (val === 'all') { set.clear(); set.add('all'); }
  else {
    set.delete('all');
    if (set.has(val)) { set.delete(val); if (set.size === 0) set.add('all'); }
    else set.add(val);
  }
  document.querySelectorAll(`#${pillsId} .pill`).forEach(p => {
    const v = p.dataset.val;
    const isActive = set.has(v);
    p.classList.toggle('active', isActive);
    if (group === 'type' && v !== 'all' && isActive) {
      p.style.background = TYPE_COLORS[v] || '#666';
      p.style.color = '#fff';
      p.style.borderColor = 'transparent';
    } else if (group === 'type' && v !== 'all') {
      p.style.background = ''; p.style.color = ''; p.style.borderColor = '';
    }
  });
  renderGrid();
}

function applyFilters() { searchQ = document.getElementById('search-input').value.toLowerCase().trim(); renderGrid(); }

function resetFilters() {
  document.getElementById('search-input').value = '';
  document.getElementById('cr-min').value = '';
  document.getElementById('cr-max').value = '';
  searchQ = ''; activeTypes = new Set(['all']); activeSizes = new Set(['all']);
  initPills();
  document.querySelectorAll('#size-pills .pill').forEach(p => p.classList.toggle('active', p.dataset.val === 'all'));
  renderGrid();
}

function filtered() {
  const crMin = document.getElementById('cr-min').value;
  const crMax = document.getElementById('cr-max').value;
  return MONSTERS.filter(m => {
    const typeOk = activeTypes.has('all') || activeTypes.has(m.type);
    const sizeOk = activeSizes.has('all') || activeSizes.has(m.size);
    const crMinOk = !crMin || m.cr >= parseFloat(crMin);
    const crMaxOk = !crMax || m.cr <= parseFloat(crMax);
    const searchOk = !searchQ || m.name.toLowerCase().includes(searchQ) || m.type.includes(searchQ);
    return typeOk && sizeOk && crMinOk && crMaxOk && searchOk;
  });
}

function buildCard(m, forPreview) {
  const color = TYPE_COLORS[m.type] || '#555';
  const tags = [];
  if (m.legendary) tags.push(`<span class="trait-tag legendary">Legendary</span>`);
  if (m.spellcaster) tags.push(`<span class="trait-tag spellcaster">Spellcaster</span>`);
  if (m.dmgImmune?.length) tags.push(`<span class="trait-tag dmg-immune">Immune: ${m.dmgImmune.slice(0,3).join(', ')}</span>`);
  if (m.dmgResist?.length) tags.push(`<span class="trait-tag dmg-resist">Resist: ${m.dmgResist.slice(0,2).join(', ')}</span>`);
  if (m.condImmune?.length) tags.push(`<span class="trait-tag cond-immune">Cond. Immune: ${m.condImmune.slice(0,3).join(', ')}</span>`);
  const keyAbility = m.abilities?.[0];
  const sel = !forPreview && selectedMonsters.has(m.name) ? ' selected' : '';
  const indicator = forPreview ? '' : `<div class="select-indicator"></div>`;
  return `<div class="mon-card${sel}" style="border-color:${color}20">
    <div class="card-header" style="background:${color}">
      ${indicator}
      <div style="flex:1">
        <div class="card-name">${m.name}</div>
        <span class="card-subtype">${m.size} ${m.type.charAt(0).toUpperCase()+m.type.slice(1)}</span>
      </div>
      <span class="cr-badge">CR ${cr(m.cr)}</span>
    </div>
    <div class="card-stats-block">
      <div class="stat-row"><span class="stat-label">AC</span><span class="stat-val">${m.ac}</span></div>
      <div class="stat-row"><span class="stat-label">HP</span><span class="stat-val">${m.hp}</span></div>
      <div class="stat-row"><span class="stat-label">Speed</span><span class="stat-val">${m.speed}</span></div>
      <div class="stat-row"><span class="stat-label">STR</span><span class="stat-val">${m.str} (${mod(m.str)})</span></div>
      <div class="stat-row"><span class="stat-label">DEX</span><span class="stat-val">${m.dex} (${mod(m.dex)})</span></div>
      <div class="stat-row"><span class="stat-label">CON</span><span class="stat-val">${m.con} (${mod(m.con)})</span></div>
    </div>
    ${tags.length ? `<div class="card-traits">${tags.join('')}</div>` : ''}
    ${keyAbility ? `<div class="card-abilities"><div class="ability-line"><span class="ability-name">${keyAbility.n}.</span> ${keyAbility.t.substring(0,120)}${keyAbility.t.length>120?'…':''}</div></div>` : ''}
  </div>`;
}

function renderGrid() {
  const list = filtered();
  const grid = document.getElementById('card-grid');
  const empty = document.getElementById('empty-state');
  document.getElementById('results-bar').textContent = `${list.length} monster${list.length !== 1 ? 's' : ''} shown`;
  if (!list.length) { grid.innerHTML = ''; empty.style.display = 'flex'; return; }
  empty.style.display = 'none';
  grid.innerHTML = list.map(m => buildCard(m)).join('');
  grid.querySelectorAll('.mon-card').forEach((el, i) => {
    el.addEventListener('click', () => toggleSelect(list[i]));
    el.addEventListener('dblclick', () => openModal(list[i]));
  });
}

function openModal(m) {
  const color = TYPE_COLORS[m.type] || '#555';
  const box = document.getElementById('modal-box');
  const tags = [];
  if (m.legendary) tags.push(`<span class="trait-tag legendary">Legendary</span>`);
  if (m.spellcaster) tags.push(`<span class="trait-tag spellcaster">Spellcaster</span>`);
  if (m.dmgImmune?.length) tags.push(`<span class="trait-tag dmg-immune">Damage Immune: ${m.dmgImmune.join(', ')}</span>`);
  if (m.dmgResist?.length) tags.push(`<span class="trait-tag dmg-resist">Resistant: ${m.dmgResist.join(', ')}</span>`);
  if (m.dmgVuln?.length) tags.push(`<span class="trait-tag" style="background:#fdf;color:#737">Vulnerable: ${m.dmgVuln.join(', ')}</span>`);
  if (m.condImmune?.length) tags.push(`<span class="trait-tag cond-immune">Condition Immune: ${m.condImmune.join(', ')}</span>`);
  box.innerHTML = `
    <div class="modal-header" style="background:${color}">
      <div class="modal-title-block">
        <div class="modal-title">${m.name}</div>
        <div class="modal-subtitle">${m.size} ${m.type.charAt(0).toUpperCase()+m.type.slice(1)} — CR ${cr(m.cr)}</div>
      </div>
      <button class="modal-close" onclick="closeModal()">Close</button>
    </div>
    <div class="modal-body">
      <div class="modal-stat-grid">
        <div class="modal-stat-box"><div class="label">AC</div><div class="val">${m.ac}</div></div>
        <div class="modal-stat-box"><div class="label">HP</div><div class="val">${m.hp}</div></div>
        <div class="modal-stat-box"><div class="label">Speed</div><div class="val" style="font-size:0.75rem">${m.speed}</div></div>
        <div class="modal-stat-box"><div class="label">CR</div><div class="val">${cr(m.cr)}</div></div>
      </div>
      <div class="ability-scores">
        ${['STR','DEX','CON','INT','WIS','CHA'].map((ab,i) => {
          const v = [m.str,m.dex,m.con,m.int,m.wis,m.cha][i];
          return `<div class="ability-score-box"><div class="ab-label">${ab}</div><div class="ab-score">${v}</div><div class="ab-mod">${mod(v)}</div></div>`;
        }).join('')}
      </div>
      ${m.savingThrows ? `<div style="font-size:0.85rem;color:#555;margin-bottom:8px;"><strong>Saves:</strong> ${m.savingThrows}</div>` : ''}
      ${m.skills ? `<div style="font-size:0.85rem;color:#555;margin-bottom:8px;"><strong>Skills:</strong> ${m.skills}</div>` : ''}
      ${m.senses ? `<div style="font-size:0.85rem;color:#555;margin-bottom:8px;"><strong>Senses:</strong> ${m.senses}</div>` : ''}
      ${tags.length ? `<div class="modal-tags">${tags.join('')}</div>` : ''}
      ${m.abilities?.length ? `
        <div class="modal-section">
          <div class="modal-section-label" style="color:${color}">Traits</div>
          ${m.abilities.map(a => `<div class="modal-ability"><span class="modal-ability-name">${a.n}.</span> ${a.t}</div>`).join('')}
        </div>` : ''}
      ${m.actions?.length ? `
        <div class="modal-section">
          <div class="modal-section-label" style="color:${color}">Actions</div>
          ${m.actions.map(a => `<div class="modal-ability"><span class="modal-ability-name">${a.n}.</span> ${a.t}</div>`).join('')}
        </div>` : ''}
      ${m.legendaryActions?.length ? `
        <div class="modal-section">
          <div class="modal-section-label" style="color:#b8902a">Legendary Actions (3/turn)</div>
          ${m.legendaryActions.map(a => `<div class="modal-ability"><span class="modal-ability-name">${a.n}.</span> ${a.t}</div>`).join('')}
        </div>` : ''}
    </div>`;
  document.getElementById('modal-overlay').classList.add('active');
}

function handleModalClick(e) {
  if (e.target === document.getElementById('modal-overlay')) closeModal();
}
function closeModal() { document.getElementById('modal-overlay').classList.remove('active'); }

function toggleFilters() {
  const bar = document.getElementById('filter-bar');
  bar.classList.toggle('expanded');
  document.getElementById('toggle-arrow').textContent = bar.classList.contains('expanded') ? '▲' : '▼';
}

const selectedMonsters = new Set();

function toggleSelect(m) {
  if (selectedMonsters.has(m.name)) selectedMonsters.delete(m.name);
  else selectedMonsters.add(m.name);
  updateSelectionUI();
  renderGrid();
}

function selectAllVisible() {
  filtered().forEach(m => selectedMonsters.add(m.name));
  updateSelectionUI();
  renderGrid();
}

function clearSelection() {
  selectedMonsters.clear();
  updateSelectionUI();
  renderGrid();
}

function updateSelectionUI() {
  const n = selectedMonsters.size;
  document.getElementById('selection-count').textContent = `${n} selected`;
  const hasSel = n > 0;
  document.getElementById('btn-print').disabled = !hasSel;
  document.getElementById('btn-clear').disabled = !hasSel;
  document.getElementById('btn-select-all').disabled = filtered().length === 0;
}

function openPrintPreview() {
  const list = MONSTERS.filter(m => selectedMonsters.has(m.name));
  const scroll = document.getElementById('print-preview-scroll');
  const pages = [];
  for (let i = 0; i < list.length; i += 8) pages.push(list.slice(i, i + 8));
  scroll.innerHTML = pages.map(page =>
    `<div class="print-preview-page">${page.map(m => buildCard(m, true)).join('')}</div>`
  ).join('');
  document.getElementById('print-preview-overlay').classList.add('active');
}

function closePrintPreview() {
  document.getElementById('print-preview-overlay').classList.remove('active');
}

function executePrint() {
  const list = MONSTERS.filter(m => selectedMonsters.has(m.name));
  const output = document.getElementById('print-output');
  const pages = [];
  for (let i = 0; i < list.length; i += 8) pages.push(list.slice(i, i + 8));
  output.innerHTML = pages.map(page =>
    `<div class="print-page">${page.map(m => buildCard(m, true)).join('')}</div>`
  ).join('');
  window.print();
  setTimeout(() => { output.innerHTML = ''; }, 1500);
}

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') { closeModal(); closePrintPreview(); }
});

document.addEventListener('DOMContentLoaded', () => {
  document.getElementById('cr-min').addEventListener('change', renderGrid);
  document.getElementById('cr-max').addEventListener('change', renderGrid);
  initPills();
  renderGrid();
  updateSelectionUI();
});
initPills();
renderGrid();
</script>

<script>
function openNav() {
  document.getElementById('nav-drawer').classList.add('open');
  document.getElementById('nav-overlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeNav() {
  document.getElementById('nav-drawer').classList.remove('open');
  document.getElementById('nav-overlay').classList.remove('open');
  document.body.style.overflow = '';
}
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeNav(); });
</script>
</body>
</html>
